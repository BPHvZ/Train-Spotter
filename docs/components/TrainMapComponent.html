<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>train-spotter documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">train-spotter documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>TrainMapComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/train-map/train-map.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Train map with stations and trains that get update every x seconds</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-train-map</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./train-map.component.sass</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./train-map.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#activeMapType">activeMapType</a>
                            </li>
                            <li>
                                <a href="#actualDisruptions">actualDisruptions</a>
                            </li>
                            <li>
                                <a href="#disruptedTrainTracksLayerData">disruptedTrainTracksLayerData</a>
                            </li>
                            <li>
                                <a href="#isUpdatingMapData">isUpdatingMapData</a>
                            </li>
                            <li>
                                <a href="#lat">lat</a>
                            </li>
                            <li>
                                <a href="#lng">lng</a>
                            </li>
                            <li>
                                <a href="#mapStyle">mapStyle</a>
                            </li>
                            <li>
                                <a href="#mapTypes">mapTypes</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#progressNum">progressNum</a>
                            </li>
                            <li>
                                <a href="#sidebar">sidebar</a>
                            </li>
                            <li>
                                <a href="#stationsLayerData">stationsLayerData</a>
                            </li>
                            <li>
                                <a href="#stationsLayerLayout">stationsLayerLayout</a>
                            </li>
                            <li>
                                <a href="#timerObserver">timerObserver</a>
                            </li>
                            <li>
                                <a href="#trainIconAdded">trainIconAdded</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#trainIconAddedSource">trainIconAddedSource</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#trainIconNames">trainIconNames</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#trainIconsAdded">trainIconsAdded</a>
                            </li>
                            <li>
                                <a href="#trainIconsForMap">trainIconsForMap</a>
                            </li>
                            <li>
                                <a href="#trainsLayerData">trainsLayerData</a>
                            </li>
                            <li>
                                <a href="#trainTracksLayerData">trainTracksLayerData</a>
                            </li>
                            <li>
                                <a href="#updateTrainsIsPaused">updateTrainsIsPaused</a>
                            </li>
                            <li>
                                <a href="#updateTrainsTimer">updateTrainsTimer</a>
                            </li>
                            <li>
                                <a href="#zoom">zoom</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#_updateTrainPopupInformation">_updateTrainPopupInformation</a>
                            </li>
                            <li>
                                <a href="#addStationsToMap">addStationsToMap</a>
                            </li>
                            <li>
                                <a href="#addTrainsToMap">addTrainsToMap</a>
                            </li>
                            <li>
                                <a href="#changeMapLayerType">changeMapLayerType</a>
                            </li>
                            <li>
                                <a href="#clickMarker">clickMarker</a>
                            </li>
                            <li>
                                <a href="#closePopup">closePopup</a>
                            </li>
                            <li>
                                <a href="#getActiveTrainsAndDetails">getActiveTrainsAndDetails</a>
                            </li>
                            <li>
                                <a href="#getAndAddTrainIconsToMap">getAndAddTrainIconsToMap</a>
                            </li>
                            <li>
                                <a href="#listenForTrainIcons">listenForTrainIcons</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onIconLoad">onIconLoad</a>
                            </li>
                            <li>
                                <a href="#onMapLoad">onMapLoad</a>
                            </li>
                            <li>
                                <a href="#onMapMouseMove">onMapMouseMove</a>
                            </li>
                            <li>
                                <a href="#onMapSourceData">onMapSourceData</a>
                            </li>
                            <li>
                                <a href="#onMapZoom">onMapZoom</a>
                            </li>
                            <li>
                                <a href="#openStationPopupOnLayerClick">openStationPopupOnLayerClick</a>
                            </li>
                            <li>
                                <a href="#openTrainPopupOnLayerClick">openTrainPopupOnLayerClick</a>
                            </li>
                            <li>
                                <a href="#pauseOrResumeUpdatingTrainPositions">pauseOrResumeUpdatingTrainPositions</a>
                            </li>
                            <li>
                                <a href="#setDisruptionMarkers">setDisruptionMarkers</a>
                            </li>
                            <li>
                                <a href="#setTrainIconName">setTrainIconName</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#selectedTrainOnMapFeature">selectedTrainOnMapFeature</a>
                                </li>
                                <li>
                                    <a href="#selectedStationOnMapFeature">selectedStationOnMapFeature</a>
                                </li>
                                <li>
                                    <a href="#disruptionMarkersData">disruptionMarkersData</a>
                                </li>
                                <li>
                                    <a href="#getProgress">getProgress</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(sharedDataService: <a href="../injectables/SharedDataService.html">SharedDataService</a>, helperFunctions: <a href="../injectables/HelperFunctionsService.html">HelperFunctionsService</a>, router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">src/app/components/train-map/train-map.component.ts:103</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>sharedDataService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SharedDataService.html" target="_self" >SharedDataService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>helperFunctions</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HelperFunctionsService.html" target="_self" >HelperFunctionsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_updateTrainPopupInformation"></a>
                    <span class="name">
                        <b>
                            _updateTrainPopupInformation
                        </b>
                        <a href="#_updateTrainPopupInformation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>_updateTrainPopupInformation()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="333"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:333</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addStationsToMap"></a>
                    <span class="name">
                        <b>
                            addStationsToMap
                        </b>
                        <a href="#addStationsToMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addStationsToMap(stations: Station[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="310"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:310</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Add stations to the map with GeoJSON</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>stations</td>
                                    <td>
                                            <code>Station[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>All stations</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addTrainsToMap"></a>
                    <span class="name">
                        <b>
                            addTrainsToMap
                        </b>
                        <a href="#addTrainsToMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addTrainsToMap(detailedTrainInformation: DetailedTrainInformation[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="319"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:319</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Add all trains to the map with GeoJSON and resume train updater</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>detailedTrainInformation</td>
                                    <td>
                                            <code>DetailedTrainInformation[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>All trains currently riding</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="changeMapLayerType"></a>
                    <span class="name">
                        <b>
                            changeMapLayerType
                        </b>
                        <a href="#changeMapLayerType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>changeMapLayerType(layer: <a href="../interfaces/TrainMapType.html">TrainMapType</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="255"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:255</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>layer</td>
                                    <td>
                                                <code><a href="../interfaces/TrainMapType.html" target="_self" >TrainMapType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clickMarker"></a>
                    <span class="name">
                        <b>
                            clickMarker
                        </b>
                        <a href="#clickMarker"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clickMarker(evt: MapMouseEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="391"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:391</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>evt</td>
                                    <td>
                                            <code>MapMouseEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closePopup"></a>
                    <span class="name">
                        <b>
                            closePopup
                        </b>
                        <a href="#closePopup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closePopup()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="301"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:301</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Close all popups</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getActiveTrainsAndDetails"></a>
                    <span class="name">
                        <b>
                            getActiveTrainsAndDetails
                        </b>
                        <a href="#getActiveTrainsAndDetails"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getActiveTrainsAndDetails()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="399"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:399</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get detailed information about all train currently riding
Set train icons when data is received</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAndAddTrainIconsToMap"></a>
                    <span class="name">
                        <b>
                            getAndAddTrainIconsToMap
                        </b>
                        <a href="#getAndAddTrainIconsToMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getAndAddTrainIconsToMap(iconURLs: Map<string | string>, detailedTrainInformation: DetailedTrainInformation[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="470"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:470</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Add train icons to the map</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>iconURLs</td>
                                    <td>
                                            <code>Map&lt;string | string&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Icon name and url</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>detailedTrainInformation</td>
                                    <td>
                                            <code>DetailedTrainInformation[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Detailed information about all trains</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listenForTrainIcons"></a>
                    <span class="name">
                        <b>
                            listenForTrainIcons
                        </b>
                        <a href="#listenForTrainIcons"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>listenForTrainIcons(detailedTrainInformation: DetailedTrainInformation[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="527"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:527</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Listen if all train icons have been added to the map,
then add the trains to the map with GeoJSON</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>detailedTrainInformation</td>
                                    <td>
                                            <code>DetailedTrainInformation[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Detailed information about all trains</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="115"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:115</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Set <a href="updateTrainsTimer">updateTrainsTimer</a> and <a href="progressNum">progressNum</a>
Fly to station when this component is reused and navigated to from another component with extra state parameters</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onIconLoad"></a>
                    <span class="name">
                        <b>
                            onIconLoad
                        </b>
                        <a href="#onIconLoad"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onIconLoad(trainIconName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="162"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:162</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Receive an event when a train icon has been loaded</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trainIconName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The train icon name</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onMapLoad"></a>
                    <span class="name">
                        <b>
                            onMapLoad
                        </b>
                        <a href="#onMapLoad"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onMapLoad(trainMap: MapBoxMap)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="187"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:187</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get stations and train information when map is loaded</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>trainMap</td>
                                    <td>
                                            <code>MapBoxMap</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>information about the map on load</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onMapMouseMove"></a>
                    <span class="name">
                        <b>
                            onMapMouseMove
                        </b>
                        <a href="#onMapMouseMove"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onMapMouseMove(event: MapLayerMouseEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="234"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:234</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Change cursor style when hovering over a station or train</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                            <code>MapLayerMouseEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Mouse move event</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onMapSourceData"></a>
                    <span class="name">
                        <b>
                            onMapSourceData
                        </b>
                        <a href="#onMapSourceData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onMapSourceData(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="244"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:244</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onMapZoom"></a>
                    <span class="name">
                        <b>
                            onMapZoom
                        </b>
                        <a href="#onMapZoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onMapZoom(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="218"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:218</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Alter train icon size when zooming on train map</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Zoom event</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openStationPopupOnLayerClick"></a>
                    <span class="name">
                        <b>
                            openStationPopupOnLayerClick
                        </b>
                        <a href="#openStationPopupOnLayerClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openStationPopupOnLayerClick(event: MapLayerMouseEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="266"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:266</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Open a station popup when clicking on a station</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                            <code>MapLayerMouseEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The station</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openTrainPopupOnLayerClick"></a>
                    <span class="name">
                        <b>
                            openTrainPopupOnLayerClick
                        </b>
                        <a href="#openTrainPopupOnLayerClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openTrainPopupOnLayerClick(event: MapLayerMouseEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="285"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:285</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Open a train popup when clicking on a train</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                            <code>MapLayerMouseEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The train</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pauseOrResumeUpdatingTrainPositions"></a>
                    <span class="name">
                        <b>
                            pauseOrResumeUpdatingTrainPositions
                        </b>
                        <a href="#pauseOrResumeUpdatingTrainPositions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>pauseOrResumeUpdatingTrainPositions(pause: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="170"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:170</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>pause or resume the <a href="updateTrainsTimer">updateTrainsTimer</a></p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pause</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Whether to pause the train updater or not</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDisruptionMarkers"></a>
                    <span class="name">
                        <b>
                            setDisruptionMarkers
                        </b>
                        <a href="#setDisruptionMarkers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setDisruptionMarkers()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="360"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:360</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setTrainIconName"></a>
                    <span class="name">
                        <b>
                            setTrainIconName
                        </b>
                        <a href="#setTrainIconName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setTrainIconName(detailedTrainInformation: DetailedTrainInformation[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="418"
                            class="link-to-prism">src/app/components/train-map/train-map.component.ts:418</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Add the train icon to the map for each type of train
Add train to map with GeoJSON if icons already have been added</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>detailedTrainInformation</td>
                                    <td>
                                            <code>DetailedTrainInformation[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Detailed information about all trains</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="activeMapType"></a>
                        <span class="name">
                            <b>
                            activeMapType</b>
                            <a href="#activeMapType"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/TrainMapType.html" target="_self" >TrainMapType</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.mapTypes[0]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/app/components/train-map/train-map.component.ts:75</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="actualDisruptions"></a>
                        <span class="name">
                            <b>
                            actualDisruptions</b>
                            <a href="#actualDisruptions"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>DisruptionsList</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="90" class="link-to-prism">src/app/components/train-map/train-map.component.ts:90</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="disruptedTrainTracksLayerData"></a>
                        <span class="name">
                            <b>
                            disruptedTrainTracksLayerData</b>
                            <a href="#disruptedTrainTracksLayerData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>GeoJSON.FeatureCollection&lt;MultiLineString&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">src/app/components/train-map/train-map.component.ts:89</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isUpdatingMapData"></a>
                        <span class="name">
                            <b>
                            isUpdatingMapData</b>
                            <a href="#isUpdatingMapData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">src/app/components/train-map/train-map.component.ts:58</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="lat"></a>
                        <span class="name">
                            <b>
                            lat</b>
                            <a href="#lat"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>52.1284</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/components/train-map/train-map.component.ts:44</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="lng"></a>
                        <span class="name">
                            <b>
                            lng</b>
                            <a href="#lng"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>5.476</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/components/train-map/train-map.component.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="mapStyle"></a>
                        <span class="name">
                            <b>
                            mapStyle</b>
                            <a href="#mapStyle"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>environment.MAPBOX_STYLE</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/components/train-map/train-map.component.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="mapTypes"></a>
                        <span class="name">
                            <b>
                            mapTypes</b>
                            <a href="#mapTypes"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/TrainMapType.html" target="_self" >TrainMapType[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[
		{
			name: &quot;Normaal&quot;,
			description: &quot;Kaart met alleen treinen en stations&quot;,
			layerId: &quot;ns-railroad&quot;,
		},
		{
			name: &quot;Storingen&quot;,
			description: &quot;Kaart met treinen, stations en actuele storingen&quot;,
			layerId: &quot;storingen-railroad&quot;,
		},
	]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/app/components/train-map/train-map.component.ts:63</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="progressNum"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            progressNum</b>
                            <a href="#progressNum"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>100</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">src/app/components/train-map/train-map.component.ts:56</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="sidebar"></a>
                        <span class="name">
                            <b>
                            sidebar</b>
                            <a href="#sidebar"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../components/TrainMapSidebarComponent.html" target="_self" >TrainMapSidebarComponent</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(TrainMapSidebarComponent)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/components/train-map/train-map.component.ts:39</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="stationsLayerData"></a>
                        <span class="name">
                            <b>
                            stationsLayerData</b>
                            <a href="#stationsLayerData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>GeoJSON.FeatureCollection&lt;GeoJSON.Geometry&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="83" class="link-to-prism">src/app/components/train-map/train-map.component.ts:83</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="stationsLayerLayout"></a>
                        <span class="name">
                            <b>
                            stationsLayerLayout</b>
                            <a href="#stationsLayerLayout"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>SymbolLayout</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
		&quot;icon-image&quot;: &quot;NS&quot;,
		&quot;icon-size&quot;: 0.15,
		&quot;icon-allow-overlap&quot;: true,
	}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">src/app/components/train-map/train-map.component.ts:78</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timerObserver"></a>
                        <span class="name">
                            <b>
                            timerObserver</b>
                            <a href="#timerObserver"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>PartialObserver&lt;number&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/app/components/train-map/train-map.component.ts:60</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainIconAdded"></a>
                        <span class="name">
                            <b>
                            trainIconAdded</b>
                            <a href="#trainIconAdded"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.trainIconAddedSource.asObservable()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="100" class="link-to-prism">src/app/components/train-map/train-map.component.ts:100</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainIconAddedSource"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            trainIconAddedSource</b>
                            <a href="#trainIconAddedSource"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Subject&lt;string&gt;()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">src/app/components/train-map/train-map.component.ts:99</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainIconNames"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            trainIconNames</b>
                            <a href="#trainIconNames"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Set&lt;string&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Set&lt;string&gt;()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="101" class="link-to-prism">src/app/components/train-map/train-map.component.ts:101</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainIconsAdded"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            trainIconsAdded</b>
                            <a href="#trainIconsAdded"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Set&lt;string&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Set&lt;string&gt;()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="102" class="link-to-prism">src/app/components/train-map/train-map.component.ts:102</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainIconsForMap"></a>
                        <span class="name">
                            <b>
                            trainIconsForMap</b>
                            <a href="#trainIconsForMap"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>TrainIconOnMap[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">src/app/components/train-map/train-map.component.ts:103</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainsLayerData"></a>
                        <span class="name">
                            <b>
                            trainsLayerData</b>
                            <a href="#trainsLayerData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>GeoJSON.FeatureCollection&lt;GeoJSON.Geometry&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/app/components/train-map/train-map.component.ts:96</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="trainTracksLayerData"></a>
                        <span class="name">
                            <b>
                            trainTracksLayerData</b>
                            <a href="#trainTracksLayerData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>SpoortkaartFeatureCollection</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">src/app/components/train-map/train-map.component.ts:86</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="updateTrainsIsPaused"></a>
                        <span class="name">
                            <b>
                            updateTrainsIsPaused</b>
                            <a href="#updateTrainsIsPaused"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">src/app/components/train-map/train-map.component.ts:57</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="updateTrainsTimer"></a>
                        <span class="name">
                            <b>
                            updateTrainsTimer</b>
                            <a href="#updateTrainsTimer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>PausableObservable&lt;number&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="59" class="link-to-prism">src/app/components/train-map/train-map.component.ts:59</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="zoom"></a>
                        <span class="name">
                            <b>
                            zoom</b>
                            <a href="#zoom"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>6.73</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/components/train-map/train-map.component.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectedTrainOnMapFeature"></a>
                        <span class="name"><b>selectedTrainOnMapFeature</b><a href="#selectedTrainOnMapFeature"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>selectedTrainOnMapFeature()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/components/train-map/train-map.component.ts:48</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectedStationOnMapFeature"></a>
                        <span class="name"><b>selectedStationOnMapFeature</b><a href="#selectedStationOnMapFeature"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>selectedStationOnMapFeature()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/app/components/train-map/train-map.component.ts:51</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="disruptionMarkersData"></a>
                        <span class="name"><b>disruptionMarkersData</b><a href="#disruptionMarkersData"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>disruptionMarkersData()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="91" class="link-to-prism">src/app/components/train-map/train-map.component.ts:91</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getProgress"></a>
                        <span class="name"><b>getProgress</b><a href="#getProgress"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>getProgress()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="154" class="link-to-prism">src/app/components/train-map/train-map.component.ts:154</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>get the progress used by the progress indicator</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, ViewChild } from &quot;@angular/core&quot;;
import { TrainMapType } from &quot;../../models/TrainMapType&quot;;
import { forkJoin, from, interval, Observable, PartialObserver, Subject, zip } from &quot;rxjs&quot;;
import { mergeMap } from &quot;rxjs/operators&quot;;
import { pausable, PausableObservable } from &quot;rxjs-pausable&quot;;
import { HelperFunctionsService } from &quot;../../services/helper-functions.service&quot;;
import { GeoJSON, MultiLineString } from &quot;geojson&quot;;
import { environment } from &quot;../../../environments/environment&quot;;
import Jimp from &quot;jimp&quot;;
import {
	EventData,
	Map as MapBoxMap,
	MapboxEvent,
	MapboxGeoJSONFeature,
	MapLayerMouseEvent,
	MapMouseEvent,
	MapSourceDataEvent,
	SymbolLayout,
} from &quot;mapbox-gl&quot;;
import { NavigationEnd, NavigationStart, Router } from &quot;@angular/router&quot;;
import { TrainMapSidebarComponent } from &quot;../train-map-sidebar/train-map-sidebar.component&quot;;
import { DisruptionBase, DisruptionsList, Station, StationsResponse } from &quot;../../models/ReisinformatieAPI&quot;;
import { SpoortkaartFeatureCollection, TrainTracksGeoJSON } from &quot;../../models/SpoortkaartAPI&quot;;
import { DetailedTrainInformation, TrainIconOnMap } from &quot;../../models/VirtualTrainAPI&quot;;
import { SharedDataService } from &quot;../../services/shared-data.service&quot;;

// eslint-disable-next-line @typescript-eslint/no-var-requires,@typescript-eslint/no-unsafe-assignment
const replaceColor &#x3D; require(&quot;replace-color&quot;);

/**
 * Train map with stations and trains that get update every x seconds
 */
@Component({
	selector: &quot;app-train-map&quot;,
	templateUrl: &quot;./train-map.component.html&quot;,
	styleUrls: [&quot;./train-map.component.sass&quot;],
})
export class TrainMapComponent implements OnInit {
	@ViewChild(TrainMapSidebarComponent) sidebar: TrainMapSidebarComponent;

	// MapBox setup
	mapStyle &#x3D; environment.MAPBOX_STYLE;
	lng &#x3D; 5.476;
	lat &#x3D; 52.1284;
	zoom &#x3D; 6.73;

	// Map popups
	get selectedTrainOnMapFeature(): MapboxGeoJSONFeature {
		return this.sharedDataService.selectedTrainOnMapFeature;
	}
	get selectedStationOnMapFeature(): MapboxGeoJSONFeature {
		return this.sharedDataService.selectedStationOnMapFeature;
	}

	// Update data countdown
	private progressNum &#x3D; 100;
	updateTrainsIsPaused &#x3D; false;
	isUpdatingMapData &#x3D; false;
	updateTrainsTimer: PausableObservable&lt;number&gt;;
	timerObserver: PartialObserver&lt;number&gt;;

	// Map styles
	mapTypes: TrainMapType[] &#x3D; [
		{
			name: &quot;Normaal&quot;,
			description: &quot;Kaart met alleen treinen en stations&quot;,
			layerId: &quot;ns-railroad&quot;,
		},
		{
			name: &quot;Storingen&quot;,
			description: &quot;Kaart met treinen, stations en actuele storingen&quot;,
			layerId: &quot;storingen-railroad&quot;,
		},
	];
	activeMapType: TrainMapType &#x3D; this.mapTypes[0];

	// Station layer
	stationsLayerLayout: SymbolLayout &#x3D; {
		&quot;icon-image&quot;: &quot;NS&quot;,
		&quot;icon-size&quot;: 0.15,
		&quot;icon-allow-overlap&quot;: true,
	};
	stationsLayerData: GeoJSON.FeatureCollection&lt;GeoJSON.Geometry&gt;;

	// Train tracks layer
	trainTracksLayerData: SpoortkaartFeatureCollection;

	// Disruptions layer
	disruptedTrainTracksLayerData: GeoJSON.FeatureCollection&lt;MultiLineString&gt;;
	actualDisruptions: DisruptionsList;
	get disruptionMarkersData(): GeoJSON.Feature&lt;GeoJSON.Point, DisruptionBase&gt;[] {
		return this.sharedDataService.disruptionMarkersData;
	}

	// Trains layer
	trainsLayerData: GeoJSON.FeatureCollection&lt;GeoJSON.Geometry&gt;;

	// Train icons
	private trainIconAddedSource &#x3D; new Subject&lt;string&gt;();
	trainIconAdded &#x3D; this.trainIconAddedSource.asObservable();
	private trainIconNames: Set&lt;string&gt; &#x3D; new Set&lt;string&gt;();
	private trainIconsAdded: Set&lt;string&gt; &#x3D; new Set&lt;string&gt;();
	trainIconsForMap: TrainIconOnMap[] &#x3D; [];

	constructor(
		private sharedDataService: SharedDataService,
		private helperFunctions: HelperFunctionsService,
		private router: Router
	) {}

	/**
	 * Set {@link updateTrainsTimer} and {@link progressNum}
	 * Fly to station when this component is reused and navigated to from another component with extra state parameters
	 */
	ngOnInit(): void {
		this.updateTrainsTimer &#x3D; interval(10).pipe(pausable()) as PausableObservable&lt;number&gt;;
		this.pauseOrResumeUpdatingTrainPositions(true);

		this.timerObserver &#x3D; {
			next: (count: number) &#x3D;&gt; {
				const timePassedInMs &#x3D; 10 * count;
				const timePassedInSec &#x3D; timePassedInMs / 100;
				const timeLeftInSec &#x3D; 100 - timePassedInSec;
				if (timeLeftInSec &gt; 0.0) {
					this.progressNum &#x3D; timeLeftInSec;
				} else if (timeLeftInSec &lt; 0.0) {
					this.progressNum &#x3D; 100;
					if (this.isUpdatingMapData &#x3D;&#x3D;&#x3D; false) {
						this.getActiveTrainsAndDetails();
					}
				}
			},
		};
		this.updateTrainsTimer.subscribe(this.timerObserver);

		this.router.events.subscribe((event) &#x3D;&gt; {
			if (event instanceof NavigationStart) {
				console.log(event.url);
			}
			if (event instanceof NavigationEnd &amp;&amp; event.url &#x3D;&#x3D;&#x3D; &quot;/kaart&quot;) {
				const navigationState &#x3D; this.router.getCurrentNavigation().extras.state;
				if (navigationState) {
					if (navigationState.station) {
						this.sharedDataService.flyToStation(navigationState.station);
					}
				}
			}
		});
	}

	/**
	 * get the progress used by the progress indicator
	 */
	get getProgress(): string {
		return &#x60;${this.progressNum}%&#x60;;
	}

	/**
	 * Receive an event when a train icon has been loaded
	 * @param trainIconName The train icon name
	 */
	onIconLoad(trainIconName: string): void {
		this.trainIconAddedSource.next(trainIconName);
	}

	/**
	 * pause or resume the {@link updateTrainsTimer}
	 * @param pause Whether to pause the train updater or not
	 */
	pauseOrResumeUpdatingTrainPositions(pause: boolean): void {
		// console.log(&#x60;isUpdatingMapData: ${this.isUpdatingMapData} updateTrainsIsPaused: ${this.updateTrainsIsPaused} pause: ${pause}&#x60;);
		if (this.isUpdatingMapData &#x3D;&#x3D;&#x3D; false) {
			if (pause &#x3D;&#x3D;&#x3D; false) {
				this.updateTrainsTimer.resume();
				this.updateTrainsIsPaused &#x3D; false;
			} else {
				this.updateTrainsTimer.pause();
				this.updateTrainsIsPaused &#x3D; true;
			}
		}
	}

	/**
	 * Get stations and train information when map is loaded
	 * @param trainMap information about the map on load
	 */
	onMapLoad(trainMap: MapBoxMap): void {
		this.sharedDataService.trainMap &#x3D; trainMap;
		this.isUpdatingMapData &#x3D; true;
		zip(
			this.sharedDataService.getBasicInformationAboutAllStations(),
			this.sharedDataService.getTrainTracksGeoJSON(),
			this.sharedDataService.getDisruptedTrainTracksGeoJSON(),
			this.sharedDataService.getActiveDisruptions()
		).subscribe({
			next: (value: [StationsResponse, TrainTracksGeoJSON, TrainTracksGeoJSON, DisruptionsList]) &#x3D;&gt; {
				console.log(value);
				this.addStationsToMap(value[0].payload);
				this.trainTracksLayerData &#x3D; value[1].payload;
				this.disruptedTrainTracksLayerData &#x3D; value[2].payload as GeoJSON.FeatureCollection&lt;MultiLineString&gt;;
				this.actualDisruptions &#x3D; value[3];
				console.log(value[3]);
			},
			error: (err) &#x3D;&gt; {
				console.log(err);
			},
			complete: () &#x3D;&gt; {
				this.getActiveTrainsAndDetails();
				this.setDisruptionMarkers();
			},
		});
	}

	/**
	 * Alter train icon size when zooming on train map
	 * @param event Zoom event
	 */
	onMapZoom(event: MapboxEvent&lt;MouseEvent | TouchEvent | WheelEvent | undefined&gt; &amp; EventData): void {
		const trainLayer &#x3D; event.target.getLayer(&quot;trains&quot;);
		if (trainLayer) {
			const zoom &#x3D; event.target.getZoom();
			// console.log(zoom);
			if (zoom &gt;&#x3D; 7) {
				const iconSize &#x3D; zoom * (0.4 / 7);
				event.target.setLayoutProperty(&quot;trains&quot;, &quot;icon-size&quot;, iconSize);
			}
		}
	}

	/**
	 * Change cursor style when hovering over a station or train
	 * @param event Mouse move event
	 */
	onMapMouseMove(event: MapLayerMouseEvent): void {
		const trainLayer &#x3D; event.target.getLayer(&quot;trains&quot;);
		if (this.stationsLayerData &amp;&amp; this.trainsLayerData &amp;&amp; this.trainIconsForMap &amp;&amp; trainLayer) {
			const features &#x3D; event.target.queryRenderedFeatures(event.point, {
				layers: [&quot;trains&quot;, &quot;stations&quot;],
			});
			event.target.getCanvas().style.cursor &#x3D; features.length ? &quot;pointer&quot; : &quot;&quot;;
		}
	}

	onMapSourceData(event: MapSourceDataEvent &amp; EventData): void {
		// console.log(event);
		if (event.isSourceLoaded) {
			if (event.sourceId &#x3D;&#x3D;&#x3D; &quot;trainData&quot; &amp;&amp; event.sourceCacheId &#x3D;&#x3D;&#x3D; &quot;symbol:trainData&quot;) {
				// Do something when the source has finished loading
				// console.log(event);
				this._updateTrainPopupInformation();
			}
		}
	}

	changeMapLayerType(layer: TrainMapType): void {
		this.activeMapType &#x3D; layer;
		if (this.activeMapType.layerId &#x3D;&#x3D;&#x3D; &quot;storingen-railroad&quot;) {
			this.sidebar.sidebarState &#x3D; &quot;open&quot;;
		}
	}

	/**
	 * Open a station popup when clicking on a station
	 * @param event The station
	 */
	openStationPopupOnLayerClick(event: MapLayerMouseEvent): void {
		if (event.features) {
			const selectedFeature: MapboxGeoJSONFeature &#x3D; event.features[0];
			let stationInformation &#x3D; selectedFeature.properties;
			/* eslint-disable @typescript-eslint/no-unsafe-assignment */
			stationInformation.namen &#x3D; JSON.parse(stationInformation.namen);
			stationInformation.synoniemen &#x3D; JSON.parse(stationInformation.synoniemen);
			stationInformation.sporen &#x3D; JSON.parse(stationInformation.sporen);
			/* eslint-enable @typescript-eslint/no-unsafe-assignment */
			stationInformation &#x3D; stationInformation as Station;
			selectedFeature.properties &#x3D; stationInformation;
			this.sharedDataService.selectedStationOnMapFeature &#x3D; selectedFeature;
		}
	}

	/**
	 * Open a train popup when clicking on a train
	 * @param event The train
	 */
	openTrainPopupOnLayerClick(event: MapLayerMouseEvent): void {
		if (event.features) {
			const selectedFeature: MapboxGeoJSONFeature &#x3D; event.features[0];
			const basicTrainInformation &#x3D; selectedFeature.properties;
			// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment
			if (basicTrainInformation.trainDetails) {
				basicTrainInformation.trainDetails &#x3D; JSON.parse(basicTrainInformation.trainDetails);
			}
			selectedFeature.properties &#x3D; basicTrainInformation;
			this.sharedDataService.selectedTrainOnMapFeature &#x3D; selectedFeature;
		}
	}

	/**
	 * Close all popups
	 */
	closePopup(): void {
		this.sharedDataService.selectedTrainOnMapFeature &#x3D; null;
		this.sharedDataService.selectedStationOnMapFeature &#x3D; null;
	}

	/**
	 * Add stations to the map with GeoJSON
	 * @param stations All stations
	 */
	addStationsToMap(stations: Station[]): void {
		console.log(stations);
		this.stationsLayerData &#x3D; this.helperFunctions.parseToGeoJSON&lt;Station&gt;(stations, [&quot;lng&quot;, &quot;lat&quot;], [], true);
	}

	/**
	 * Add all trains to the map with GeoJSON and resume train updater
	 * @param detailedTrainInformation All trains currently riding
	 */
	addTrainsToMap(detailedTrainInformation: DetailedTrainInformation[]): void {
		this.trainsLayerData &#x3D; this.helperFunctions.parseToGeoJSON&lt;DetailedTrainInformation&gt;(
			detailedTrainInformation,
			[&quot;lng&quot;, &quot;lat&quot;],
			[],
			true
		);
		this.isUpdatingMapData &#x3D; false;
		this.pauseOrResumeUpdatingTrainPositions(false);
		if (environment.production &#x3D;&#x3D;&#x3D; false) {
			this.pauseOrResumeUpdatingTrainPositions(true);
		}
	}

	_updateTrainPopupInformation(): void {
		if (this.sharedDataService.selectedTrainOnMapFeature) {
			const selectedFeature &#x3D; this.sharedDataService.selectedTrainOnMapFeature;
			const oldTrainInformation &#x3D; selectedFeature.properties as DetailedTrainInformation;
			const rideId &#x3D; oldTrainInformation.ritId;
			const queriedFeatures &#x3D; this.sharedDataService.trainMap.querySourceFeatures(&quot;trainData&quot;, {
				filter: [&quot;&#x3D;&#x3D;&quot;, [&quot;get&quot;, &quot;ritId&quot;], rideId],
			});
			if (queriedFeatures) {
				this.closePopup();
				this.openTrainPopupOnLayerClick({
					defaultPrevented: false,
					lngLat: undefined,
					originalEvent: undefined,
					point: undefined,
					// eslint-disable-next-line @typescript-eslint/no-empty-function
					preventDefault(): void {},
					target: undefined,
					type: undefined,
					features: queriedFeatures,
				});
			} else {
				this.closePopup();
			}
		}
	}

	setDisruptionMarkers(): void {
		this.sharedDataService.disruptionMarkersData &#x3D; [];
		console.log(this.disruptedTrainTracksLayerData.features.length);

		const uniqueDisruptions: GeoJSON.Feature&lt;MultiLineString, { [p: string]: any }&gt;[] &#x3D; [];
		const idMap &#x3D; new Map();
		for (const feature of this.disruptedTrainTracksLayerData.features) {
			if (!idMap.has(feature.id)) {
				idMap.set(feature.id, true);
				uniqueDisruptions.push(feature);
			}
		}

		uniqueDisruptions.forEach((feature) &#x3D;&gt; {
			const disruptionInfo &#x3D; this.actualDisruptions.find(
				(disruption: DisruptionBase) &#x3D;&gt; disruption.id &#x3D;&#x3D;&#x3D; feature.id
			);
			if (disruptionInfo) {
				const linePart &#x3D; feature.geometry.coordinates[0];
				this.sharedDataService.disruptionMarkersData.push({
					type: &quot;Feature&quot;,
					properties: disruptionInfo,
					geometry: {
						type: &quot;Point&quot;,
						coordinates: linePart[Math.ceil(linePart.length / 2) - 1],
					},
				});
			}
		});
	}

	clickMarker(evt: MapMouseEvent): void {
		console.log(evt);
	}

	/**
	 * Get detailed information about all train currently riding
	 * Set train icons when data is received
	 */
	getActiveTrainsAndDetails(): void {
		this.isUpdatingMapData &#x3D; true;
		this.pauseOrResumeUpdatingTrainPositions(true);
		this.sharedDataService.getDetailedInformationAboutActiveTrains().subscribe({
			next: (detailedTrainInformation) &#x3D;&gt; {
				console.log(detailedTrainInformation);
				this.setTrainIconName(detailedTrainInformation);
			},
			error: (err) &#x3D;&gt; {
				console.log(err);
			},
		});
	}

	/**
	 * Add the train icon to the map for each type of train
	 * Add train to map with GeoJSON if icons already have been added
	 * @param detailedTrainInformation Detailed information about all trains
	 */
	setTrainIconName(detailedTrainInformation: DetailedTrainInformation[]): void {
		const iconURLs: Map&lt;string, string&gt; &#x3D; new Map&lt;string, string&gt;();

		detailedTrainInformation.forEach((train) &#x3D;&gt; {
			let imageName &#x3D; &quot;alternative&quot;;
			let imageURL &#x3D; &quot;../../assets/alternative-train.png&quot;;

			// If train has details about material, add the image url
			if (
				train.trainDetails &amp;&amp;
				train.trainDetails.materieeldelen &amp;&amp;
				train.trainDetails.materieeldelen[0].afbeelding
			) {
				const materiaaldelen &#x3D; train.trainDetails.materieeldelen;
				// Get last part of url, like &#x27;virm_4.png&#x27;, to be used as a name
				// console.log(basicTrain);
				const urlParts &#x3D; materiaaldelen[0].afbeelding.split(&quot;/&quot;);
				imageName &#x3D; urlParts[urlParts.length - 1];
				const allIconNames &#x3D; Array.from(iconURLs.keys());
				// Add the url for an icon name if it has not been added
				if (allIconNames.includes(imageName) &#x3D;&#x3D;&#x3D; false) {
					const firstTrainPart &#x3D; materiaaldelen[0];
					if (firstTrainPart.afbeelding) {
						imageURL &#x3D; firstTrainPart.afbeelding;
					}
					if (firstTrainPart.bakken &amp;&amp; firstTrainPart.bakken.length &gt; 0) {
						imageURL &#x3D; firstTrainPart.bakken[0].afbeelding.url;
					}
					iconURLs.set(imageName, imageURL);
				}
				// Set the icon name for this train
				train.trainIconName &#x3D; imageName;
			} else {
				// If the train has no details set to alternative and add alternative-train.png
				console.log(train);
				train.trainIconName &#x3D; imageName;
				iconURLs.set(imageName, imageURL);
			}
		});

		if (this.trainIconsForMap.length &#x3D;&#x3D;&#x3D; 0) {
			this.getAndAddTrainIconsToMap(iconURLs, detailedTrainInformation);
		} else {
			this.addTrainsToMap(detailedTrainInformation);
		}
	}

	/**
	 * Add train icons to the map
	 * @param iconURLs Icon name and url
	 * @param detailedTrainInformation Detailed information about all trains
	 */
	getAndAddTrainIconsToMap(
		iconURLs: Map&lt;string, string&gt;,
		detailedTrainInformation: DetailedTrainInformation[]
	): void {
		const jimpImageNames: string[] &#x3D; [];
		const jimpBufferObservables: Observable&lt;Buffer&gt;[] &#x3D; [];

		iconURLs.forEach((imageURL, imageName) &#x3D;&gt; {
			jimpImageNames.push(imageName);
			jimpBufferObservables.push(
				from(Jimp.read(imageURL)).pipe(
					mergeMap&lt;Jimp, Observable&lt;Buffer&gt;&gt;((image) &#x3D;&gt; {
						image.resize(Jimp.AUTO, 50).crop(0, 0, 100, 50);
						if (image.hasAlpha()) {
							image.rgba(true).background(0x000000ff);
						}
						return from(image.getBufferAsync(Jimp.MIME_PNG));
					}),
					mergeMap((buffer) &#x3D;&gt;
						from&lt;Observable&lt;Jimp&gt;&gt;(
							// eslint-disable-next-line @typescript-eslint/no-unsafe-call
							replaceColor({
								image: buffer,
								colors: {
									type: &quot;hex&quot;,
									targetColor: &quot;#FFFFFF&quot;,
									replaceColor: &quot;#00000000&quot;,
								},
							})
						)
					),
					mergeMap((image) &#x3D;&gt; image.getBufferAsync(Jimp.MIME_PNG))
				)
			);
		});

		forkJoin(jimpBufferObservables).subscribe({
			next: (buffers) &#x3D;&gt; {
				buffers.forEach((buffer, index) &#x3D;&gt; {
					this.trainIconNames.add(jimpImageNames[index]);
					this.trainIconsForMap.push({
						imageName: jimpImageNames[index],
						imageObjectURL: window.URL.createObjectURL(new Blob([buffer], { type: &quot;image/png&quot; })),
					});
				});
			},
			complete: () &#x3D;&gt; {
				this.listenForTrainIcons(detailedTrainInformation);
			},
		});
	}

	/**
	 * Listen if all train icons have been added to the map,
	 * then add the trains to the map with GeoJSON
	 * @param detailedTrainInformation Detailed information about all trains
	 */
	listenForTrainIcons(detailedTrainInformation: DetailedTrainInformation[]): void {
		this.trainIconAdded.subscribe({
			next: (trainIconName) &#x3D;&gt; {
				this.trainIconsAdded.add(trainIconName);
				if (this.trainIconNames.size &#x3D;&#x3D;&#x3D; this.trainIconsAdded.size) {
					this.addTrainsToMap(detailedTrainInformation);
					this.trainIconAddedSource.complete();
				}
			},
			error: (err) &#x3D;&gt; console.log(err),
			complete: () &#x3D;&gt; {
				this.isUpdatingMapData &#x3D; false;
			},
		});
	}
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;mat-typography&quot;&gt;
	&lt;div style&#x3D;&quot;height: 100%; z-index: 100&quot;&gt;
		&lt;mgl-map
			[style]&#x3D;&quot;mapStyle&quot;
			[zoom]&#x3D;&quot;[zoom]&quot;
			[center]&#x3D;&quot;[lng, lat]&quot;
			[maxBounds]&#x3D;&quot;[
				[-5.1804575292, 45.9339846217],
				[15.0276942887, 56.0902661419]
			]&quot;
			(load)&#x3D;&quot;onMapLoad($event)&quot;
			(mouseMove)&#x3D;&quot;onMapMouseMove($event)&quot;
			(zoomEvt)&#x3D;&quot;onMapZoom($event)&quot;
      (sourceData)&#x3D;&quot;onMapSourceData($event)&quot;
		&gt;
      &lt;mgl-control mglNavigation position&#x3D;&quot;top-right&quot;&gt;&lt;/mgl-control&gt;
      &lt;mgl-control
        mglGeolocate
        [trackUserLocation]&#x3D;&quot;true&quot;
        [fitBoundsOptions]&#x3D;&quot;{maxZoom:10}&quot;
        position&#x3D;&quot;top-right&quot;
      &gt;&lt;/mgl-control&gt;
			&lt;mgl-layer
				*ngIf&#x3D;&quot;stationsLayerData&quot;
				id&#x3D;&quot;stations&quot;
				type&#x3D;&quot;symbol&quot;
				[source]&#x3D;&quot;{ type: &#x27;geojson&#x27;, data: stationsLayerData }&quot;
				[layout]&#x3D;&quot;{
					&#x27;icon-image&#x27;: &#x27;NS&#x27;,
					&#x27;icon-size&#x27;: 0.15,
					&#x27;icon-allow-overlap&#x27;: true
				}&quot;
				[minzoom]&#x3D;&quot;10&quot;
				(click)&#x3D;&quot;openStationPopupOnLayerClick($event)&quot;
			&gt;
			&lt;/mgl-layer&gt;
			&lt;mgl-layer
				*ngIf&#x3D;&quot;trainTracksLayerData&quot;
				id&#x3D;&quot;NSTrainTracks&quot;
				type&#x3D;&quot;line&quot;
				[source]&#x3D;&quot;{ type: &#x27;geojson&#x27;, data: trainTracksLayerData }&quot;
				[layout]&#x3D;&quot;{ &#x27;line-join&#x27;: &#x27;round&#x27;, &#x27;line-cap&#x27;: &#x27;round&#x27; }&quot;
				[paint]&#x3D;&quot;{ &#x27;line-color&#x27;: &#x27;#9C9CA6&#x27;, &#x27;line-width&#x27;: 2 }&quot;
				[before]&#x3D;&quot;&#x27;stations&#x27;&quot;
			&gt;
			&lt;/mgl-layer&gt;
			&lt;mgl-layer
				*ngIf&#x3D;&quot;disruptedTrainTracksLayerData&quot;
				id&#x3D;&quot;disruptedTrainTracks&quot;
				type&#x3D;&quot;line&quot;
				[source]&#x3D;&quot;{ type: &#x27;geojson&#x27;, data: disruptedTrainTracksLayerData }&quot;
				[layout]&#x3D;&quot;{
					visibility: activeMapType.layerId &#x3D;&#x3D;&#x3D; &#x27;storingen-railroad&#x27; ? &#x27;visible&#x27; : &#x27;none&#x27;,
					&#x27;line-join&#x27;: &#x27;round&#x27;,
					&#x27;line-cap&#x27;: &#x27;round&#x27;
				}&quot;
				[paint]&#x3D;&quot;{ &#x27;line-color&#x27;: &#x27;#fe0000&#x27;, &#x27;line-width&#x27;: 2 }&quot;
				[before]&#x3D;&quot;&#x27;stations&#x27;&quot;
			&gt;
			&lt;/mgl-layer&gt;
        &lt;mgl-geojson-source id&#x3D;&quot;disruptionMarkersSource&quot;&gt;
          &lt;mgl-marker
            *ngFor&#x3D;&quot;let disruptionMarker of disruptionMarkersData&quot;
            [lngLat]&#x3D;&quot;disruptionMarker.geometry.coordinates&quot;
          &gt;
            &lt;div
              style&#x3D;&quot;pointer-events: auto&quot;
              [ngStyle]&#x3D;&quot;{ display: activeMapType.layerId &#x3D;&#x3D;&#x3D; &#x27;storingen-railroad&#x27; ? &#x27;unset&#x27; : &#x27;none&#x27; }&quot;
            &gt;
              &lt;div
                id&#x3D;&quot;mapPopup&quot;
                class&#x3D;&quot;flex-parent-inline flex-parent--center-cross flex-parent--column absolute bottom&quot;
              &gt;
                &lt;div
                  class&#x3D;&quot;mapPopupContent mapPopupContent--disruption color-white shadow-darken10 round txt-s clip txt-truncate&quot;
                &gt;
                  &lt;div
                    *ngIf&#x3D;&quot;disruptionMarker.properties[&#x27;type&#x27;] &#x3D;&#x3D;&#x3D; &#x27;werkzaamheid&#x27;; else elseDisruption&quot;
                  &gt;
                    &lt;img
                      src&#x3D;&quot;../../../assets/maintenance--35x35.svg&quot;
                      alt&#x3D;&quot;Werk aan het spoor&quot;
                      style&#x3D;&quot;position: inherit; height: 30px&quot;
                    /&gt;
                  &lt;/div&gt;
                  &lt;ng-template #elseDisruption&gt;
                    &lt;img
                      src&#x3D;&quot;../../../assets/alert--35x35.svg&quot;
                      alt&#x3D;&quot;Storing&quot;
                      style&#x3D;&quot;position: inherit; height: 30px&quot;
                  /&gt;&lt;/ng-template&gt;
                &lt;/div&gt;
                &lt;span class&#x3D;&quot;flex-child triangle triangle--d&quot; style&#x3D;&quot;color: #fe0000&quot;&gt;&lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/mgl-marker&gt;
        &lt;/mgl-geojson-source&gt;
			&lt;mgl-layer
				*ngIf&#x3D;&quot;disruptionMarkersData&quot;
				id&#x3D;&quot;symbols&quot;
				type&#x3D;&quot;symbol&quot;
				source&#x3D;&quot;disruptionMarkersSource&quot;
				(click)&#x3D;&quot;clickMarker($event)&quot;
			&gt;
			&lt;/mgl-layer&gt;
			&lt;mgl-geojson-source *ngIf&#x3D;&quot;trainsLayerData&quot; id&#x3D;&quot;trainData&quot; [data]&#x3D;&quot;trainsLayerData&quot;&gt; &lt;/mgl-geojson-source&gt;
			&lt;mgl-layer
				*ngIf&#x3D;&quot;trainsLayerData &amp;&amp; trainIconsForMap&quot;
				id&#x3D;&quot;trains&quot;
				type&#x3D;&quot;symbol&quot;
				source&#x3D;&quot;trainData&quot;
				[layout]&#x3D;&quot;{
					visibility: activeMapType.layerId &#x3D;&#x3D;&#x3D; &#x27;ns-railroad&#x27; ? &#x27;visible&#x27; : &#x27;none&#x27;,
					&#x27;icon-image&#x27;: [&#x27;get&#x27;, &#x27;trainIconName&#x27;],
					&#x27;icon-size&#x27;: 0.4,
					&#x27;icon-allow-overlap&#x27;: true,
					&#x27;icon-ignore-placement&#x27;: true
				}&quot;
				[minzoom]&#x3D;&quot;6&quot;
				[maxzoom]&#x3D;&quot;20&quot;
				(click)&#x3D;&quot;openTrainPopupOnLayerClick($event)&quot;
			&gt;
			&lt;/mgl-layer&gt;
			&lt;div *ngIf&#x3D;&quot;trainIconsForMap&quot;&gt;
				&lt;mgl-image
					*ngFor&#x3D;&quot;let trainIcon of trainIconsForMap&quot;
					[id]&#x3D;&quot;trainIcon.imageName&quot;
					[url]&#x3D;&quot;trainIcon.imageObjectURL&quot;
					(loaded)&#x3D;&quot;onIconLoad(trainIcon.imageName)&quot;
					(error)&#x3D;&quot;onIconLoad(trainIcon.imageName)&quot;
				&gt;&lt;/mgl-image&gt;
			&lt;/div&gt;
			&lt;mgl-popup
				*ngIf&#x3D;&quot;selectedTrainOnMapFeature&quot;
				[offset]&#x3D;&quot;[0, 5]&quot;
				[closeButton]&#x3D;&quot;false&quot;
				[lngLat]&#x3D;&quot;selectedTrainOnMapFeature?.geometry?.coordinates&quot;
			&gt;
				&lt;app-train-popup [mapboxFeature]&#x3D;&quot;selectedTrainOnMapFeature&quot; (closePopup)&#x3D;&quot;closePopup()&quot; &gt;
				&lt;/app-train-popup&gt;
			&lt;/mgl-popup&gt;
			&lt;mgl-popup
				*ngIf&#x3D;&quot;selectedStationOnMapFeature&quot;
				[offset]&#x3D;&quot;[0, 5]&quot;
				[closeButton]&#x3D;&quot;false&quot;
				[lngLat]&#x3D;&quot;selectedStationOnMapFeature?.geometry?.coordinates&quot;
			&gt;
				&lt;app-station-popup [mapboxFeature]&#x3D;&quot;selectedStationOnMapFeature&quot; (closePopup)&#x3D;&quot;closePopup()&quot;&gt;
				&lt;/app-station-popup&gt;
			&lt;/mgl-popup&gt;
		&lt;/mgl-map&gt;
		&lt;div id&#x3D;&quot;mapControls&quot; *ngIf&#x3D;&quot;true; else loadingMap&quot;&gt;
			&lt;div id&#x3D;&quot;mapTypeControl&quot; class&#x3D;&quot;toggle-group border border--2 border--white bg-white shadow-darken10 z1&quot;&gt;
				&lt;div class&#x3D;&quot;toggle-container mb-0&quot; *ngFor&#x3D;&quot;let mapType of mapTypes&quot;&gt;
					&lt;label [htmlFor]&#x3D;&quot;mapType.layerId&quot; hidden&gt;&lt;/label&gt;
					&lt;input
						[id]&#x3D;&quot;mapType.layerId&quot;
						class&#x3D;&quot;mapTypeInput&quot;
						name&#x3D;&quot;toggle&quot;
						type&#x3D;&quot;radio&quot;
						[checked]&#x3D;&quot;mapType.layerId &#x3D;&#x3D; activeMapType.layerId&quot;
						[disabled]&#x3D;&quot;isUpdatingMapData&quot;
					/&gt;
					&lt;div
						class&#x3D;&quot;mapTypeToggle toggle txt-s py3 toggle--active-white&quot;
						(click)&#x3D;&quot;changeMapLayerType(mapType)&quot;
					&gt;
						{{ mapType.name }}
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div
				id&#x3D;&quot;playPauseButton&quot;
				class&#x3D;&quot;border border--2 border--white bg-white shadow-darken10 z1&quot;
				(click)&#x3D;&quot;pauseOrResumeUpdatingTrainPositions(!updateTrainsIsPaused)&quot;
			&gt;
				&lt;div class&#x3D;&quot;row&quot;&gt;
					&lt;div id&#x3D;&quot;updatePositionsLabel&quot; class&#x3D;&quot;toggle txt-s&quot;&gt;Update posities&lt;/div&gt;
					&lt;div
						id&#x3D;&quot;playPauseIconButton&quot;
						*ngIf&#x3D;&quot;
							isUpdatingMapData &#x3D;&#x3D;&#x3D; false || updateTrainsIsPaused &#x3D;&#x3D;&#x3D; false;
							else updatingMapDataSpinner
						&quot;
					&gt;
						&lt;button mat-icon-button&gt;
							&lt;mat-icon
								*ngIf&#x3D;&quot;
									updateTrainsIsPaused &#x3D;&#x3D;&#x3D; false &amp;&amp; isUpdatingMapData &#x3D;&#x3D;&#x3D; false;
									else playCircleIcon
								&quot;
							&gt;
								pause_circle_filled
							&lt;/mat-icon&gt;
							&lt;ng-template #playCircleIcon&gt;
								&lt;mat-icon&gt;play_circle_filled&lt;/mat-icon&gt;
							&lt;/ng-template&gt;
						&lt;/button&gt;
					&lt;/div&gt;
					&lt;ng-template #updatingMapDataSpinner&gt;
						&lt;div id&#x3D;&quot;updatingMapDataSpinner&quot; class&#x3D;&quot;spinner-border spinner-border-sm&quot; role&#x3D;&quot;status&quot;&gt;
							&lt;span class&#x3D;&quot;sr-only&quot;&gt;Loading...&lt;/span&gt;
						&lt;/div&gt;
					&lt;/ng-template&gt;
				&lt;/div&gt;
				&lt;div id&#x3D;&quot;updatePositionsProgressbar&quot;&gt;
					&lt;div class&#x3D;&quot;progress&quot; style&#x3D;&quot;height: 12px; border-radius: 6px&quot;&gt;
						&lt;div
							class&#x3D;&quot;progress-bar&quot;
							role&#x3D;&quot;progressbar&quot;
							[ngStyle]&#x3D;&quot;{ width: getProgress }&quot;
							style&#x3D;&quot;background-color: #003082&quot;
							aria-valuemin&#x3D;&quot;0&quot;
							aria-valuemax&#x3D;&quot;100&quot;
						&gt;&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;ng-template #loadingMap&gt;
			&lt;div class&#x3D;&quot;loader&quot; style&#x3D;&quot;z-index: 1&quot;&gt;
				&lt;div class&#x3D;&quot;bar&quot;&gt;&lt;/div&gt;
			&lt;/div&gt;
		&lt;/ng-template&gt;
	&lt;/div&gt;
	&lt;div&gt;
    &lt;div id&#x3D;&quot;sidebar&quot; *ngIf&#x3D;&quot;actualDisruptions&quot;&gt;
      &lt;app-train-map-sidebar
        (clickOnArrow)&#x3D;&quot;sidebar.changeState()&quot;
      &gt;&lt;/app-train-map-sidebar&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./train-map.component.sass</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">@import &quot;../../../globals&quot;

mgl-map
  position: absolute
  width: 100%
  height: 100%
  z-index: 0

#mapControls
  position: absolute
  z-index: 1

#mapTypeControl
  margin-top: 12px
  margin-left: 12px
  padding: 3px

.mapTypeInput:checked + .toggle
  color: white
  background: $ns-blue

.mapTypeToggle:hover
  color: $ns-blue
  background: $ns-yellow

#playPauseButton
  margin-top: 8px
  margin-left: 12px
  color: $ns-blue
  border-radius: 18px
  text-align: center
  width: fit-content

#updatePositionsProgressbar
  z-index: 1
  margin: 0 10px 5px 10px

#updatePositionsLabel
  padding-right: 0
  margin-left: 10px
  color: $ns-blue
  cursor: default

#playPauseIconButton
  margin-top: -5px
  margin-right: 15px
  float: right

#updatingMapDataSpinner
  margin: 7px 25px 9px 11px
  height: 19px
  width: 19px

#sidebar
  //min-width: 20%
  height: 100%
  z-index: 200
  right: 0
  position: absolute

.progress-bar
  transition: width 0.1s ease
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="mat-typography">	<div style="height: 100%; z-index: 100">		<mgl-map			[style]="mapStyle"			[zoom]="[zoom]"			[center]="[lng, lat]"			[maxBounds]="[				[-5.1804575292, 45.9339846217],				[15.0276942887, 56.0902661419]			]"			(load)="onMapLoad($event)"			(mouseMove)="onMapMouseMove($event)"			(zoomEvt)="onMapZoom($event)"      (sourceData)="onMapSourceData($event)"		>      <mgl-control mglNavigation position="top-right"></mgl-control>      <mgl-control        mglGeolocate        [trackUserLocation]="true"        [fitBoundsOptions]="{maxZoom:10}"        position="top-right"      ></mgl-control>			<mgl-layer				*ngIf="stationsLayerData"				id="stations"				type="symbol"				[source]="{ type: \'geojson\', data: stationsLayerData }"				[layout]="{					\'icon-image\': \'NS\',					\'icon-size\': 0.15,					\'icon-allow-overlap\': true				}"				[minzoom]="10"				(click)="openStationPopupOnLayerClick($event)"			>			</mgl-layer>			<mgl-layer				*ngIf="trainTracksLayerData"				id="NSTrainTracks"				type="line"				[source]="{ type: \'geojson\', data: trainTracksLayerData }"				[layout]="{ \'line-join\': \'round\', \'line-cap\': \'round\' }"				[paint]="{ \'line-color\': \'#9C9CA6\', \'line-width\': 2 }"				[before]="\'stations\'"			>			</mgl-layer>			<mgl-layer				*ngIf="disruptedTrainTracksLayerData"				id="disruptedTrainTracks"				type="line"				[source]="{ type: \'geojson\', data: disruptedTrainTracksLayerData }"				[layout]="{					visibility: activeMapType.layerId === \'storingen-railroad\' ? \'visible\' : \'none\',					\'line-join\': \'round\',					\'line-cap\': \'round\'				}"				[paint]="{ \'line-color\': \'#fe0000\', \'line-width\': 2 }"				[before]="\'stations\'"			>			</mgl-layer>        <mgl-geojson-source id="disruptionMarkersSource">          <mgl-marker            *ngFor="let disruptionMarker of disruptionMarkersData"            [lngLat]="disruptionMarker.geometry.coordinates"          >            <div              style="pointer-events: auto"              [ngStyle]="{ display: activeMapType.layerId === \'storingen-railroad\' ? \'unset\' : \'none\' }"            >              <div                id="mapPopup"                class="flex-parent-inline flex-parent--center-cross flex-parent--column absolute bottom"              >                <div                  class="mapPopupContent mapPopupContent--disruption color-white shadow-darken10 round txt-s clip txt-truncate"                >                  <div                    *ngIf="disruptionMarker.properties[\'type\'] === \'werkzaamheid\'; else elseDisruption"                  >                    <img                      src="../../../assets/maintenance--35x35.svg"                      alt="Werk aan het spoor"                      style="position: inherit; height: 30px"                    />                  </div>                  <ng-template #elseDisruption>                    <img                      src="../../../assets/alert--35x35.svg"                      alt="Storing"                      style="position: inherit; height: 30px"                  /></ng-template>                </div>                <span class="flex-child triangle triangle--d" style="color: #fe0000"></span>              </div>            </div>          </mgl-marker>        </mgl-geojson-source>			<mgl-layer				*ngIf="disruptionMarkersData"				id="symbols"				type="symbol"				source="disruptionMarkersSource"				(click)="clickMarker($event)"			>			</mgl-layer>			<mgl-geojson-source *ngIf="trainsLayerData" id="trainData" [data]="trainsLayerData"> </mgl-geojson-source>			<mgl-layer				*ngIf="trainsLayerData && trainIconsForMap"				id="trains"				type="symbol"				source="trainData"				[layout]="{					visibility: activeMapType.layerId === \'ns-railroad\' ? \'visible\' : \'none\',					\'icon-image\': [\'get\', \'trainIconName\'],					\'icon-size\': 0.4,					\'icon-allow-overlap\': true,					\'icon-ignore-placement\': true				}"				[minzoom]="6"				[maxzoom]="20"				(click)="openTrainPopupOnLayerClick($event)"			>			</mgl-layer>			<div *ngIf="trainIconsForMap">				<mgl-image					*ngFor="let trainIcon of trainIconsForMap"					[id]="trainIcon.imageName"					[url]="trainIcon.imageObjectURL"					(loaded)="onIconLoad(trainIcon.imageName)"					(error)="onIconLoad(trainIcon.imageName)"				></mgl-image>			</div>			<mgl-popup				*ngIf="selectedTrainOnMapFeature"				[offset]="[0, 5]"				[closeButton]="false"				[lngLat]="selectedTrainOnMapFeature?.geometry?.coordinates"			>				<app-train-popup [mapboxFeature]="selectedTrainOnMapFeature" (closePopup)="closePopup()" >				</app-train-popup>			</mgl-popup>			<mgl-popup				*ngIf="selectedStationOnMapFeature"				[offset]="[0, 5]"				[closeButton]="false"				[lngLat]="selectedStationOnMapFeature?.geometry?.coordinates"			>				<app-station-popup [mapboxFeature]="selectedStationOnMapFeature" (closePopup)="closePopup()">				</app-station-popup>			</mgl-popup>		</mgl-map>		<div id="mapControls" *ngIf="true; else loadingMap">			<div id="mapTypeControl" class="toggle-group border border--2 border--white bg-white shadow-darken10 z1">				<div class="toggle-container mb-0" *ngFor="let mapType of mapTypes">					<label [htmlFor]="mapType.layerId" hidden></label>					<input						[id]="mapType.layerId"						class="mapTypeInput"						name="toggle"						type="radio"						[checked]="mapType.layerId == activeMapType.layerId"						[disabled]="isUpdatingMapData"					/>					<div						class="mapTypeToggle toggle txt-s py3 toggle--active-white"						(click)="changeMapLayerType(mapType)"					>						{{ mapType.name }}					</div>				</div>			</div>			<div				id="playPauseButton"				class="border border--2 border--white bg-white shadow-darken10 z1"				(click)="pauseOrResumeUpdatingTrainPositions(!updateTrainsIsPaused)"			>				<div class="row">					<div id="updatePositionsLabel" class="toggle txt-s">Update posities</div>					<div						id="playPauseIconButton"						*ngIf="							isUpdatingMapData === false || updateTrainsIsPaused === false;							else updatingMapDataSpinner						"					>						<button mat-icon-button>							<mat-icon								*ngIf="									updateTrainsIsPaused === false && isUpdatingMapData === false;									else playCircleIcon								"							>								pause_circle_filled							</mat-icon>							<ng-template #playCircleIcon>								<mat-icon>play_circle_filled</mat-icon>							</ng-template>						</button>					</div>					<ng-template #updatingMapDataSpinner>						<div id="updatingMapDataSpinner" class="spinner-border spinner-border-sm" role="status">							<span class="sr-only">Loading...</span>						</div>					</ng-template>				</div>				<div id="updatePositionsProgressbar">					<div class="progress" style="height: 12px; border-radius: 6px">						<div							class="progress-bar"							role="progressbar"							[ngStyle]="{ width: getProgress }"							style="background-color: #003082"							aria-valuemin="0"							aria-valuemax="100"						></div>					</div>				</div>			</div>		</div>		<ng-template #loadingMap>			<div class="loader" style="z-index: 1">				<div class="bar"></div>			</div>		</ng-template>	</div>	<div>    <div id="sidebar" *ngIf="actualDisruptions">      <app-train-map-sidebar        (clickOnArrow)="sidebar.changeState()"      ></app-train-map-sidebar>    </div>  </div></div></div>'
    var COMPONENTS = [{'name': 'AllStationsComponent', 'selector': 'app-all-stations'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CalamityItemComponent', 'selector': 'app-calamity-item'},{'name': 'DisruptionItemComponent', 'selector': 'app-disruption-item'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'MainLayoutComponent', 'selector': 'app-main-layout'},{'name': 'StationPopupComponent', 'selector': 'app-station-popup'},{'name': 'TrainMapComponent', 'selector': 'app-train-map'},{'name': 'TrainMapSidebarComponent', 'selector': 'app-train-map-sidebar'},{'name': 'TrainPopupComponent', 'selector': 'app-train-popup'}];
    var DIRECTIVES = [{'name': 'NgbdSortableHeaderDirective', 'selector': '[appNgbdSortableHeader]'}];
    var ACTUAL_COMPONENT = {'name': 'TrainMapComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'TrainMapComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
