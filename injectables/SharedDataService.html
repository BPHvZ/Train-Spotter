<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>TrainSpotter Documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/material.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">TrainSpotter Documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li>Injectables</li>
  <li >SharedDataService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/shared-data.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Hub for all shared data in the application</p>

            </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#_activeDisruptions" >_activeDisruptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_activeMapType" >_activeMapType</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_detailedTrainInformation" >_detailedTrainInformation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#_disruptedTrainTracksLayerData" >_disruptedTrainTracksLayerData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#_disruptionMarkersData" >_disruptionMarkersData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_disruptionsLastUpdated" >_disruptionsLastUpdated</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_innerHeight" >_innerHeight</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_navbarCollapsed$" >_navbarCollapsed$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_sidebarState" >_sidebarState</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_stations" >_stations</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#activeDisruptions$" >activeDisruptions$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#activeMapType$" >activeMapType$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#disruptedTrainTracksLayerData$" >disruptedTrainTracksLayerData$</a>
                            </li>
                            <li>
                                <a href="#disruptionCardElements" >disruptionCardElements</a>
                            </li>
                            <li>
                                <a href="#disruptionMarkerElements" >disruptionMarkerElements</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#disruptionMarkersData$" >disruptionMarkersData$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#disruptionsLastUpdated$" >disruptionsLastUpdated$</a>
                            </li>
                            <li>
                                <a href="#globalSearchReady$" >globalSearchReady$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#innerHeight$" >innerHeight$</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#mapTypes" >mapTypes</a>
                            </li>
                            <li>
                                <a href="#navbarCollapsed" >navbarCollapsed</a>
                            </li>
                            <li>
                                <a href="#screenWidth" >screenWidth</a>
                            </li>
                            <li>
                                <a href="#selectedStationOnMapFeature" >selectedStationOnMapFeature</a>
                            </li>
                            <li>
                                <a href="#selectedTrainOnMapFeature" >selectedTrainOnMapFeature</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#sidebarState$" >sidebarState$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#stations$" >stations$</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#trainMap" >trainMap</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#activeDisruptionsLastValue" >activeDisruptionsLastValue</a>
                            </li>
                            <li>
                                <a href="#changeMapLayerType" >changeMapLayerType</a>
                            </li>
                            <li>
                                <a href="#closePopups" >closePopups</a>
                            </li>
                            <li>
                                <a href="#disruptedTrainTracksLayerDataLastValue" >disruptedTrainTracksLayerDataLastValue</a>
                            </li>
                            <li>
                                <a href="#findStationByCode" >findStationByCode</a>
                            </li>
                            <li>
                                <a href="#findStationByUICCode" >findStationByUICCode</a>
                            </li>
                            <li>
                                <a href="#findTrainByRideId" >findTrainByRideId</a>
                            </li>
                            <li>
                                <a href="#flyToDisruption" >flyToDisruption</a>
                            </li>
                            <li>
                                <a href="#flyToStation" >flyToStation</a>
                            </li>
                            <li>
                                <a href="#flyToTrain" >flyToTrain</a>
                            </li>
                            <li>
                                <a href="#getBasicInformationAboutAllStations" >getBasicInformationAboutAllStations</a>
                            </li>
                            <li>
                                <a href="#getTrainTracksGeoJSON" >getTrainTracksGeoJSON</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#init" >init</a>
                            </li>
                            <li>
                                <a href="#stationsLastValue" >stationsLastValue</a>
                            </li>
                            <li>
                                <a href="#toggleNavbar" >toggleNavbar</a>
                            </li>
                            <li>
                                <a href="#toggleSidebar" >toggleSidebar</a>
                            </li>
                            <li>
                                <a href="#trainInformationLastValue" >trainInformationLastValue</a>
                            </li>
                            <li>
                                <a href="#updateActiveDisruptions" >updateActiveDisruptions</a>
                            </li>
                            <li>
                                <a href="#updateDetailedInformationAboutActiveTrains" >updateDetailedInformationAboutActiveTrains</a>
                            </li>
                            <li>
                                <a href="#updateDisruptedTrainTracksGeoJSON" >updateDisruptedTrainTracksGeoJSON</a>
                            </li>
                            <li>
                                <a href="#updateDisruptionMarkersData" >updateDisruptionMarkersData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#navbarCollapsed$" >navbarCollapsed$</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(apiService: <a href="../injectables/ApiService.html" target="_self">ApiService</a>, router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, cacheService: <a href="../injectables/CacheService.html" target="_self">CacheService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="137" class="link-to-prism">src/app/services/shared-data.service.ts:137</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Defines services
Get last updated date for disruptions in sidebar</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>apiService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ApiService.html" target="_self" >ApiService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Requests for NS API</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Router object</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>cacheService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CacheService.html" target="_self" >CacheService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Load and save data in cache</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="activeDisruptionsLastValue"></a>
                    <span class="name">
                        <span ><b>activeDisruptionsLastValue</b></span>
                        <a href="#activeDisruptionsLastValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>activeDisruptionsLastValue()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="286"
                            class="link-to-prism">src/app/services/shared-data.service.ts:286</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get active disruptions last response</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>DisruptionsList</code>

                    </div>
                    <div class="io-description">
                        <p>DisruptionsList All active disruptions</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="changeMapLayerType"></a>
                    <span class="name">
                        <span ><b>changeMapLayerType</b></span>
                        <a href="#changeMapLayerType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>changeMapLayerType(layer: <a href="../interfaces/TrainMapType.html" target="_self">TrainMapType</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="344"
                            class="link-to-prism">src/app/services/shared-data.service.ts:344</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Change the map <a href="mapTypes">mapTypes</a></p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>layer</td>
                                    <td>
                                                <code><a href="../interfaces/TrainMapType.html" target="_self" >TrainMapType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Map type to change to</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closePopups"></a>
                    <span class="name">
                        <span ><b>closePopups</b></span>
                        <a href="#closePopups"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closePopups()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="453"
                            class="link-to-prism">src/app/services/shared-data.service.ts:453</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Close all popups on the map</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disruptedTrainTracksLayerDataLastValue"></a>
                    <span class="name">
                        <span ><b>disruptedTrainTracksLayerDataLastValue</b></span>
                        <a href="#disruptedTrainTracksLayerDataLastValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>disruptedTrainTracksLayerDataLastValue()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="221"
                            class="link-to-prism">src/app/services/shared-data.service.ts:221</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get disrupted train track last response</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>FeatureCollection&lt;MultiLineString&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>GeoJSON.FeatureCollection<MultiLineString> All disrupted train tracks</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findStationByCode"></a>
                    <span class="name">
                        <span ><b>findStationByCode</b></span>
                        <a href="#findStationByCode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findStationByCode(code: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="446"
                            class="link-to-prism">src/app/services/shared-data.service.ts:446</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>code</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Station | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findStationByUICCode"></a>
                    <span class="name">
                        <span ><b>findStationByUICCode</b></span>
                        <a href="#findStationByUICCode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findStationByUICCode(UICCode: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="442"
                            class="link-to-prism">src/app/services/shared-data.service.ts:442</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>UICCode</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Station | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findTrainByRideId"></a>
                    <span class="name">
                        <span ><b>findTrainByRideId</b></span>
                        <a href="#findTrainByRideId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findTrainByRideId(rideId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="438"
                            class="link-to-prism">src/app/services/shared-data.service.ts:438</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Find train information by ride id</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rideId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Ride id of the train</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>DetailedTrainInformation | undefined</code>

                    </div>
                    <div class="io-description">
                        <p>DetailedTrainInformation Train information or undefined</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flyToDisruption"></a>
                    <span class="name">
                        <span ><b>flyToDisruption</b></span>
                        <a href="#flyToDisruption"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>flyToDisruption(disruption: DisruptionBase)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="380"
                            class="link-to-prism">src/app/services/shared-data.service.ts:380</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fly to a disruption area</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>disruption</td>
                                    <td>
                                            <code>DisruptionBase</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The disruption to fly to</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flyToStation"></a>
                    <span class="name">
                        <span ><b>flyToStation</b></span>
                        <a href="#flyToStation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>flyToStation(station: Station)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="355"
                            class="link-to-prism">src/app/services/shared-data.service.ts:355</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fly to a station and open a station popup</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>station</td>
                                    <td>
                                            <code>Station</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The station to fly to</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flyToTrain"></a>
                    <span class="name">
                        <span ><b>flyToTrain</b></span>
                        <a href="#flyToTrain"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>flyToTrain(train: DetailedTrainInformation)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="406"
                            class="link-to-prism">src/app/services/shared-data.service.ts:406</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fly to a train and open a train popup</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>train</td>
                                    <td>
                                            <code>DetailedTrainInformation</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The train to fly to</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBasicInformationAboutAllStations"></a>
                    <span class="name">
                        <span ><b>getBasicInformationAboutAllStations</b></span>
                        <a href="#getBasicInformationAboutAllStations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBasicInformationAboutAllStations()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="172"
                            class="link-to-prism">src/app/services/shared-data.service.ts:172</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get minimal information about all trains</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >Observable&lt;StationsResponse&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Observable&lt;Response<TrainInformationResponse>&gt; Minimal information about all trains</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTrainTracksGeoJSON"></a>
                    <span class="name">
                        <span ><b>getTrainTracksGeoJSON</b></span>
                        <a href="#getTrainTracksGeoJSON"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTrainTracksGeoJSON()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="196"
                            class="link-to-prism">src/app/services/shared-data.service.ts:196</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get all train tracks</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;TrainTracksGeoJSON&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Observable&lt;Response<TrainTracksGeoJSON>&gt; All train tracks as GeoJSON</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="init"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>init</b></span>
                        <a href="#init"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>init()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="157"
                            class="link-to-prism">src/app/services/shared-data.service.ts:157</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribe to browser window resize</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stationsLastValue"></a>
                    <span class="name">
                        <span ><b>stationsLastValue</b></span>
                        <a href="#stationsLastValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>stationsLastValue()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="186"
                            class="link-to-prism">src/app/services/shared-data.service.ts:186</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get last stations response</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Response.html" target="_self" >StationsResponse</a></code>

                    </div>
                    <div class="io-description">
                        <p>StationsResponse All stations</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleNavbar"></a>
                    <span class="name">
                        <span ><b>toggleNavbar</b></span>
                        <a href="#toggleNavbar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleNavbar()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="461"
                            class="link-to-prism">src/app/services/shared-data.service.ts:461</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Open/close navbar on smaller screens</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleSidebar"></a>
                    <span class="name">
                        <span ><b>toggleSidebar</b></span>
                        <a href="#toggleSidebar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleSidebar()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="473"
                            class="link-to-prism">src/app/services/shared-data.service.ts:473</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Open or close the sidebar</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="trainInformationLastValue"></a>
                    <span class="name">
                        <span ><b>trainInformationLastValue</b></span>
                        <a href="#trainInformationLastValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>trainInformationLastValue()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="334"
                            class="link-to-prism">src/app/services/shared-data.service.ts:334</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get train information last response</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>DetailedTrainInformation[]</code>

                    </div>
                    <div class="io-description">
                        <p>DetailedTrainInformation[] Detailed information about all trains</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateActiveDisruptions"></a>
                    <span class="name">
                        <span ><b>updateActiveDisruptions</b></span>
                        <a href="#updateActiveDisruptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateActiveDisruptions(force)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="241"
                            class="link-to-prism">src/app/services/shared-data.service.ts:241</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get information about current disruptions</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>force</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                    <td>
                                        <p>Force an update, do not check cache</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Observable&lt;Response<DisruptionsList>&gt; Information about current disruptions</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateDetailedInformationAboutActiveTrains"></a>
                    <span class="name">
                        <span ><b>updateDetailedInformationAboutActiveTrains</b></span>
                        <a href="#updateDetailedInformationAboutActiveTrains"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateDetailedInformationAboutActiveTrains()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="296"
                            class="link-to-prism">src/app/services/shared-data.service.ts:296</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get detailed information about all trains by their ride id&#39;s</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Observable<void> Detailed information about all trains</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateDisruptedTrainTracksGeoJSON"></a>
                    <span class="name">
                        <span ><b>updateDisruptedTrainTracksGeoJSON</b></span>
                        <a href="#updateDisruptedTrainTracksGeoJSON"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateDisruptedTrainTracksGeoJSON(force)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="207"
                            class="link-to-prism">src/app/services/shared-data.service.ts:207</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get all disrupted train tracks</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>force</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Observable&lt;Response<TrainTracksGeoJSON>&gt; All disrupted train tracks as GeoJSON</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateDisruptionMarkersData"></a>
                    <span class="name">
                        <span ><b>updateDisruptionMarkersData</b></span>
                        <a href="#updateDisruptionMarkersData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateDisruptionMarkersData(markers: GeoJSON.Feature<GeoJSON.Point, DisruptionBase>[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="231"
                            class="link-to-prism">src/app/services/shared-data.service.ts:231</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Update the data of disruption markers on the map</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>markers</td>
                                    <td>
                                            <code>GeoJSON.Feature&lt;GeoJSON.Point, DisruptionBase&gt;[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Markers to be added to the map</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_activeDisruptions"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>_activeDisruptions</b></span>
                        <a href="#_activeDisruptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;DisruptionsList&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">src/app/services/shared-data.service.ts:87</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Current disruptions</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_activeMapType"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_activeMapType</b></span>
                        <a href="#_activeMapType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;TrainMapType&gt;(this.mapTypes[0])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/app/services/shared-data.service.ts:60</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribable stations object</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_detailedTrainInformation"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_detailedTrainInformation</b></span>
                        <a href="#_detailedTrainInformation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;DetailedTrainInformation[]&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="97" class="link-to-prism">src/app/services/shared-data.service.ts:97</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribable detailed train information object</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_disruptedTrainTracksLayerData"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>_disruptedTrainTracksLayerData</b></span>
                        <a href="#_disruptedTrainTracksLayerData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;TrainTracksGeoJSON&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/services/shared-data.service.ts:76</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Train tracks of disrupted tracks</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_disruptionMarkersData"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>_disruptionMarkersData</b></span>
                        <a href="#_disruptionMarkersData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;GeoJSON.Feature[]&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">src/app/services/shared-data.service.ts:81</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Markers for disruptions</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_disruptionsLastUpdated"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_disruptionsLastUpdated</b></span>
                        <a href="#_disruptionsLastUpdated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Date&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/services/shared-data.service.ts:92</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribable disruptions object</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_innerHeight"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_innerHeight</b></span>
                        <a href="#_innerHeight"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;number&gt;(window.innerHeight)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="117" class="link-to-prism">src/app/services/shared-data.service.ts:117</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribable window innerHeight object</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_navbarCollapsed$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_navbarCollapsed$</b></span>
                        <a href="#_navbarCollapsed$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;boolean&gt;(true)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="108" class="link-to-prism">src/app/services/shared-data.service.ts:108</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribable navbar collapse status object</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_sidebarState"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_sidebarState</b></span>
                        <a href="#_sidebarState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;&quot;open&quot; | &quot;closed&quot;&gt;(&quot;closed&quot;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="135" class="link-to-prism">src/app/services/shared-data.service.ts:135</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Sidebar open/closed state</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_stations"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_stations</b></span>
                        <a href="#_stations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;StationsResponse&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/services/shared-data.service.ts:71</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribable stations object</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="activeDisruptions$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>activeDisruptions$</b></span>
                        <a href="#activeDisruptions$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._activeDisruptions.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">src/app/services/shared-data.service.ts:89</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Current disruptions as observable</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="activeMapType$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>activeMapType$</b></span>
                        <a href="#activeMapType$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._activeMapType.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/app/services/shared-data.service.ts:62</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Observable of stations</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disruptedTrainTracksLayerData$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>disruptedTrainTracksLayerData$</b></span>
                        <a href="#disruptedTrainTracksLayerData$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._disruptedTrainTracksLayerData.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">src/app/services/shared-data.service.ts:78</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Train tracks of disrupted tracks as observable</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disruptionCardElements"></a>
                    <span class="name">
                        <span ><b>disruptionCardElements</b></span>
                        <a href="#disruptionCardElements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Map&lt;string, ElementRef&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="133" class="link-to-prism">src/app/services/shared-data.service.ts:133</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Disruption sidebar cards</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disruptionMarkerElements"></a>
                    <span class="name">
                        <span ><b>disruptionMarkerElements</b></span>
                        <a href="#disruptionMarkerElements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Set&lt;MarkerComponent&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="131" class="link-to-prism">src/app/services/shared-data.service.ts:131</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Disruption map markers</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disruptionMarkersData$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>disruptionMarkersData$</b></span>
                        <a href="#disruptionMarkersData$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._disruptionMarkersData.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">src/app/services/shared-data.service.ts:84</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Markers for disruptions as observables</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disruptionsLastUpdated$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>disruptionsLastUpdated$</b></span>
                        <a href="#disruptionsLastUpdated$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._disruptionsLastUpdated.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">src/app/services/shared-data.service.ts:94</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Observable of disruptions</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="globalSearchReady$"></a>
                    <span class="name">
                        <span ><b>globalSearchReady$</b></span>
                        <a href="#globalSearchReady$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>combineLatest([this._stations, this._detailedTrainInformation])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="125" class="link-to-prism">src/app/services/shared-data.service.ts:125</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Global search is ready when data has been loaded</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="innerHeight$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>innerHeight$</b></span>
                        <a href="#innerHeight$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._innerHeight.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="119" class="link-to-prism">src/app/services/shared-data.service.ts:119</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Observable of window innerHeight</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mapTypes"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>mapTypes</b></span>
                        <a href="#mapTypes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/TrainMapType.html" target="_self" >TrainMapType[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
		{
			name: &quot;Normaal&quot;,
			description: &quot;Kaart met alleen treinen en stations&quot;,
			layerId: &quot;ns-railroad&quot;,
		},
		{
			name: &quot;Storingen&quot;,
			description: &quot;Kaart met treinen, stations en actuele storingen&quot;,
			layerId: &quot;storingen-railroad&quot;,
		},
	]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/app/services/shared-data.service.ts:46</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>All train map types</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="navbarCollapsed"></a>
                    <span class="name">
                        <span ><b>navbarCollapsed</b></span>
                        <a href="#navbarCollapsed"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="106" class="link-to-prism">src/app/services/shared-data.service.ts:106</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Navbar collapse status</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="screenWidth"></a>
                    <span class="name">
                        <span ><b>screenWidth</b></span>
                        <a href="#screenWidth"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>window.innerWidth</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="114" class="link-to-prism">src/app/services/shared-data.service.ts:114</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Current browser screen width</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedStationOnMapFeature"></a>
                    <span class="name">
                        <span ><b>selectedStationOnMapFeature</b></span>
                        <a href="#selectedStationOnMapFeature"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>MapboxGeoJSONFeature</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">src/app/services/shared-data.service.ts:68</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Station of selected popup</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedTrainOnMapFeature"></a>
                    <span class="name">
                        <span ><b>selectedTrainOnMapFeature</b></span>
                        <a href="#selectedTrainOnMapFeature"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>MapboxGeoJSONFeature</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">src/app/services/shared-data.service.ts:66</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Train of selected popup</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sidebarState$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>sidebarState$</b></span>
                        <a href="#sidebarState$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._sidebarState.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="137" class="link-to-prism">src/app/services/shared-data.service.ts:137</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Observable of sidebar open/closed state</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stations$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>stations$</b></span>
                        <a href="#stations$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._stations.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/app/services/shared-data.service.ts:73</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Observable of stations</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="trainMap"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>trainMap</b></span>
                        <a href="#trainMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>MapBoxMap</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="100" class="link-to-prism">src/app/services/shared-data.service.ts:100</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Mapbox map</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navbarCollapsed$"></a>
                        <span class="name"><b>navbarCollapsed$</b><a href="#navbarCollapsed$"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>navbarCollapsed$()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="110" class="link-to-prism">src/app/services/shared-data.service.ts:110</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Observable of navbar collapse status</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { ElementRef, Injectable } from &quot;@angular/core&quot;;
import { Router } from &quot;@angular/router&quot;;
import { FeatureCollection, MultiLineString } from &quot;geojson&quot;;
import { LngLatLike, Map as MapBoxMap, MapboxGeoJSONFeature } from &quot;mapbox-gl&quot;;
import { MarkerComponent } from &quot;ngx-mapbox-gl/lib/marker/marker.component&quot;;
import { BehaviorSubject, combineLatest, fromEvent, Observable } from &quot;rxjs&quot;;
import { debounceTime, map, switchMap, take, tap } from &quot;rxjs/operators&quot;;
import { environment } from &quot;../../environments/environment&quot;;
import { DisruptionBase, DisruptionsList, Station, StationsResponse } from &quot;../models/ReisinformatieAPI&quot;;
import { TrainTracksGeoJSON } from &quot;../models/SpoortkaartAPI&quot;;
import { TrainMapType } from &quot;../models/TrainMapType&quot;;
import { DetailedTrainInformation } from &quot;../models/VirtualTrainAPI&quot;;
import { ApiService } from &quot;./api.service&quot;;
import { CacheService } from &quot;./cache.service&quot;;
import { ResponseType } from &quot;./http-client.service&quot;;

/**
 * Hub for all shared data in the application
 */
@Injectable({
	providedIn: &quot;root&quot;,
})
export class SharedDataService {
	/*
	 * Data used by the train map
	 * */
	/**All train map types*/
	readonly mapTypes: TrainMapType[] &#x3D; [
		{
			name: &quot;Normaal&quot;,
			description: &quot;Kaart met alleen treinen en stations&quot;,
			layerId: &quot;ns-railroad&quot;,
		},
		{
			name: &quot;Storingen&quot;,
			description: &quot;Kaart met treinen, stations en actuele storingen&quot;,
			layerId: &quot;storingen-railroad&quot;,
		},
	];
	//Active map
	/**Subscribable stations object*/
	private _activeMapType &#x3D; new BehaviorSubject&lt;TrainMapType&gt;(this.mapTypes[0]);
	/**Observable of stations*/
	public readonly activeMapType$ &#x3D; this._activeMapType.asObservable();

	// Map popups
	/**Train of selected popup*/
	selectedTrainOnMapFeature: MapboxGeoJSONFeature;
	/**Station of selected popup*/
	selectedStationOnMapFeature: MapboxGeoJSONFeature;

	/**Subscribable stations object*/
	private _stations &#x3D; new BehaviorSubject&lt;StationsResponse&gt;(null);
	/**Observable of stations*/
	public readonly stations$ &#x3D; this._stations.asObservable();

	/**Train tracks of disrupted tracks*/
	private readonly _disruptedTrainTracksLayerData: BehaviorSubject&lt;TrainTracksGeoJSON&gt; &#x3D; new BehaviorSubject(null);
	/**Train tracks of disrupted tracks as observable*/
	public readonly disruptedTrainTracksLayerData$ &#x3D; this._disruptedTrainTracksLayerData.asObservable();

	/**Markers for disruptions*/
	private readonly _disruptionMarkersData: BehaviorSubject&lt;GeoJSON.Feature&lt;GeoJSON.Point, DisruptionBase&gt;[]&gt; &#x3D;
		new BehaviorSubject(null);
	/**Markers for disruptions as observables*/
	public readonly disruptionMarkersData$ &#x3D; this._disruptionMarkersData.asObservable();

	/**Current disruptions*/
	private readonly _activeDisruptions: BehaviorSubject&lt;DisruptionsList&gt; &#x3D; new BehaviorSubject(null);
	/**Current disruptions as observable*/
	public readonly activeDisruptions$ &#x3D; this._activeDisruptions.asObservable();

	/**Subscribable disruptions object*/
	private _disruptionsLastUpdated &#x3D; new BehaviorSubject&lt;Date&gt;(null);
	/**Observable of disruptions*/
	public readonly disruptionsLastUpdated$ &#x3D; this._disruptionsLastUpdated.asObservable();

	/**Subscribable detailed train information object*/
	private _detailedTrainInformation &#x3D; new BehaviorSubject&lt;DetailedTrainInformation[]&gt;(null);

	/**Mapbox map*/
	trainMap?: MapBoxMap;

	/*
	 * Data used by the navbar
	 * */
	/**Navbar collapse status*/
	navbarCollapsed &#x3D; true;
	/**Subscribable navbar collapse status object*/
	private _navbarCollapsed$ &#x3D; new BehaviorSubject&lt;boolean&gt;(true);
	/**Observable of navbar collapse status*/
	get navbarCollapsed$(): Observable&lt;boolean&gt; {
		return this._navbarCollapsed$.asObservable();
	}
	/**Current browser screen width*/
	screenWidth &#x3D; window.innerWidth;

	/**Subscribable window innerHeight object*/
	private _innerHeight &#x3D; new BehaviorSubject&lt;number&gt;(window.innerHeight);
	/**Observable of window innerHeight*/
	public readonly innerHeight$ &#x3D; this._innerHeight.asObservable();

	/*
	 * Data used by the header
	 * */
	/**Global search is ready when data has been loaded*/
	globalSearchReady$ &#x3D; combineLatest([this._stations, this._detailedTrainInformation]);

	/*
	 * Data used to hover and focus on disruption markers on the map and cards in the sidebar
	 * */
	/**Disruption map markers*/
	disruptionMarkerElements &#x3D; new Set&lt;MarkerComponent&gt;();
	/**Disruption sidebar cards*/
	disruptionCardElements &#x3D; new Map&lt;string, ElementRef&gt;();
	/**Sidebar open/closed state*/
	private _sidebarState &#x3D; new BehaviorSubject&lt;&quot;open&quot; | &quot;closed&quot;&gt;(&quot;closed&quot;);
	/**Observable of sidebar open/closed state*/
	public readonly sidebarState$ &#x3D; this._sidebarState.asObservable();

	/**
	 * Defines services
	 * Get last updated date for disruptions in sidebar
	 * @param apiService Requests for NS API
	 * @param router Router object
	 * @param cacheService Load and save data in cache
	 */
	constructor(private apiService: ApiService, private router: Router, private cacheService: CacheService) {
		const dateData &#x3D; this.cacheService.load(&quot;getActiveDisruptionsLastUpdated&quot;) as Date;
		if (dateData) {
			this._disruptionsLastUpdated.next(dateData);
		}
		this.init();
	}

	/**
	 * Subscribe to browser window resize
	 */
	private init(): void {
		fromEvent(window, &quot;resize&quot;)
			.pipe(debounceTime(1000))
			.subscribe(() &#x3D;&gt; {
				// eslint-disable-next-line
				this.screenWidth &#x3D; window.innerWidth;
				// eslint-disable-next-line
				this._innerHeight.next(window.innerHeight);
			});
	}

	/**
	 * Get minimal information about all trains
	 * @returns Observable&lt;Response&lt;TrainInformationResponse&gt;&gt; Minimal information about all trains
	 */
	getBasicInformationAboutAllStations(): Observable&lt;StationsResponse&gt; {
		return this.apiService.getBasicInformationAboutAllStations().pipe(
			take(1),
			map((response) &#x3D;&gt; {
				this._stations.next(response.data);
				return response.data;
			})
		);
	}

	/**
	 * Get last stations response
	 * @return StationsResponse All stations
	 */
	stationsLastValue(): StationsResponse {
		let result: StationsResponse;
		this._stations.pipe(take(1)).subscribe((s) &#x3D;&gt; (result &#x3D; s));
		return result;
	}

	/**
	 * Get all train tracks
	 * @returns Observable&lt;Response&lt;TrainTracksGeoJSON&gt;&gt; All train tracks as GeoJSON
	 */
	getTrainTracksGeoJSON(): Observable&lt;TrainTracksGeoJSON&gt; {
		return this.apiService.getTrainTracksGeoJSON().pipe(
			take(1),
			map((response) &#x3D;&gt; response.data)
		);
	}

	/**
	 * Get all disrupted train tracks
	 * @returns Observable&lt;Response&lt;TrainTracksGeoJSON&gt;&gt; All disrupted train tracks as GeoJSON
	 */
	updateDisruptedTrainTracksGeoJSON(force &#x3D; false): Observable&lt;void&gt; {
		return this.apiService.getDisruptedTrainTracksGeoJSON(force).pipe(
			take(1),
			map((response) &#x3D;&gt; {
				// console.log(&quot;updateDisruptedTrainTracksGeoJSON: &quot;, response.data);
				this._disruptedTrainTracksLayerData.next(response.data);
			})
		);
	}

	/**
	 * Get disrupted train track last response
	 * @return GeoJSON.FeatureCollection&lt;MultiLineString&gt; All disrupted train tracks
	 * */
	disruptedTrainTracksLayerDataLastValue(): FeatureCollection&lt;MultiLineString&gt; {
		let result: TrainTracksGeoJSON;
		this._disruptedTrainTracksLayerData.pipe(take(1)).subscribe((s) &#x3D;&gt; (result &#x3D; s));
		return result?.payload as FeatureCollection&lt;MultiLineString&gt;;
	}

	/**
	 * Update the data of disruption markers on the map
	 * @param markers Markers to be added to the map
	 */
	updateDisruptionMarkersData(markers: GeoJSON.Feature&lt;GeoJSON.Point, DisruptionBase&gt;[]): void {
		this.disruptionMarkerElements.clear();
		this._disruptionMarkersData.next(markers);
	}

	/**
	 * Get information about current disruptions
	 * @param force Force an update, do not check cache
	 * @returns Observable&lt;Response&lt;DisruptionsList&gt;&gt; Information about current disruptions
	 */
	updateActiveDisruptions(force &#x3D; false): Observable&lt;void&gt; {
		return this.apiService.getActiveDisruptions(force).pipe(
			take(1),
			tap((response) &#x3D;&gt; {
				if (!environment.production) {
					console.log(response);
				}
				if (response.responseType &#x3D;&#x3D; ResponseType.URL) {
					const date &#x3D; new Date();
					this._disruptionsLastUpdated.next(date);
					this.cacheService.save({
						key: &quot;getActiveDisruptionsLastUpdated&quot;,
						data: JSON.stringify(date.toUTCString()),
					});
				}
			}),
			map((response) &#x3D;&gt; {
				const all &#x3D; response.data;

				const calamities &#x3D; all.filter((a) &#x3D;&gt; a.type &#x3D;&#x3D; &quot;CALAMITY&quot;);
				const disruptions &#x3D; all.filter((a) &#x3D;&gt; a.type &#x3D;&#x3D; &quot;DISRUPTION&quot;);
				const maintenance &#x3D; all.filter((a) &#x3D;&gt; a.type &#x3D;&#x3D; &quot;MAINTENANCE&quot;);

				calamities.sort((a, b) &#x3D;&gt; (&quot;&quot; + a.type).localeCompare(b.type));

				calamities.sort((a, b) &#x3D;&gt; (&quot;&quot; + a.type).localeCompare(b.type));
				disruptions.sort(
					(a, b) &#x3D;&gt; new Date(a[&quot;start&quot;] as string).valueOf() - new Date(b[&quot;start&quot;] as string).valueOf()
				);
				maintenance.sort(
					(a, b) &#x3D;&gt; new Date(a[&quot;start&quot;] as string).valueOf() - new Date(b[&quot;start&quot;] as string).valueOf()
				);

				const disruptionsSorted &#x3D; calamities.concat(disruptions, maintenance);

				// console.log(&quot;updateActiveDisruptions: &quot;, disruptionsSorted);
				this._activeDisruptions.next(disruptionsSorted);
			})
		);
	}

	/**
	 * Get active disruptions last response
	 * @return DisruptionsList All active disruptions
	 */
	activeDisruptionsLastValue(): DisruptionsList {
		let result: DisruptionsList;
		this._activeDisruptions.pipe(take(1)).subscribe((s) &#x3D;&gt; (result &#x3D; s));
		return result;
	}

	/**
	 * Get detailed information about all trains by their ride id&#x27;s
	 * @returns Observable&lt;void&gt; Detailed information about all trains
	 */
	updateDetailedInformationAboutActiveTrains(): Observable&lt;void&gt; {
		let trainInformation: DetailedTrainInformation[] &#x3D; [];
		return this.apiService.getBasicInformationAboutAllTrains().pipe(
			take(1),
			map((response) &#x3D;&gt; {
				const trains &#x3D; response.data;
				if (!environment.production) {
					console.log(trains);
				}
				trainInformation &#x3D; trains.payload.treinen;
				let trainIds &#x3D; &quot;&quot;;
				trains.payload.treinen.forEach((train) &#x3D;&gt; {
					trainIds +&#x3D; train.ritId + &quot;,&quot;;
				});
				trainIds &#x3D; trainIds.slice(0, -1);
				return trainIds;
			}),
			switchMap((trainIds) &#x3D;&gt; {
				return this.apiService.getTrainDetailsByRideId(trainIds);
			}),
			map((response) &#x3D;&gt; {
				const detailedTrainInformation &#x3D; response.data;
				trainInformation.forEach((basicTrain) &#x3D;&gt; {
					basicTrain.updatedAt &#x3D; Date.now();
					basicTrain.trainDetails &#x3D; detailedTrainInformation.find(
						(details) &#x3D;&gt; details.ritnummer.toString() &#x3D;&#x3D;&#x3D; basicTrain.ritId
					);
				});
				// console.log(&quot;train details: &quot;, trainInformation);
				this._detailedTrainInformation.next(trainInformation);
			})
		);
	}

	/**
	 * Get train information last response
	 * @return DetailedTrainInformation[] Detailed information about all trains
	 */
	trainInformationLastValue(): DetailedTrainInformation[] {
		let result: DetailedTrainInformation[];
		this._detailedTrainInformation.pipe(take(1)).subscribe((s) &#x3D;&gt; (result &#x3D; s));
		return result;
	}

	/**
	 * Change the map {@link mapTypes}
	 * @param layer Map type to change to
	 */
	changeMapLayerType(layer: TrainMapType): void {
		this._activeMapType.next(layer);
		if (layer.layerId &#x3D;&#x3D;&#x3D; &quot;storingen-railroad&quot;) {
			this._sidebarState.next(&quot;open&quot;);
		}
	}

	/**
	 * Fly to a station and open a station popup
	 * @param station The station to fly to
	 */
	flyToStation(station: Station): void {
		if (this.router.url !&#x3D;&#x3D; &quot;/kaart&quot;) {
			void this.router.navigateByUrl(&quot;/kaart&quot;);
		}
		if (this.trainMap &amp;&amp; station) {
			this.closePopups();
			this.trainMap.flyTo({
				center: [station.lng, station.lat],
				zoom: 15,
			});
			this.trainMap.once(&quot;moveend&quot;, () &#x3D;&gt; {
				const features &#x3D; this.trainMap.queryRenderedFeatures(null, { layers: [&quot;stations&quot;] });
				if (features.length &gt; 0) {
					const selectedFeature: MapboxGeoJSONFeature &#x3D; features[0];
					selectedFeature.properties &#x3D; station;
					this.selectedStationOnMapFeature &#x3D; selectedFeature;
				}
			});
		}
	}

	/**
	 * Fly to a disruption area
	 * @param disruption The disruption to fly to
	 */
	flyToDisruption(disruption: DisruptionBase): void {
		if (this.router.url !&#x3D;&#x3D; &quot;/kaart&quot;) {
			void this.router.navigateByUrl(&quot;/kaart&quot;);
		}

		let disruptionMarkersData: GeoJSON.Feature&lt;GeoJSON.Point, DisruptionBase&gt;[];
		this._disruptionMarkersData.pipe(take(1)).subscribe((s) &#x3D;&gt; (disruptionMarkersData &#x3D; s));

		if (this.trainMap &amp;&amp; disruption &amp;&amp; disruptionMarkersData !&#x3D; null) {
			const markers &#x3D; disruptionMarkersData;
			this.closePopups();
			this._activeMapType.next(this.mapTypes[1]);
			const marker &#x3D; markers.find((m) &#x3D;&gt; m.properties &#x3D;&#x3D;&#x3D; disruption);
			if (marker) {
				this.trainMap.flyTo({
					center: marker.geometry.coordinates as LngLatLike,
					zoom: 11,
				});
			}
		}
	}

	/**
	 * Fly to a train and open a train popup
	 * @param train The train to fly to
	 */
	flyToTrain(train: DetailedTrainInformation): void {
		if (this.router.url !&#x3D;&#x3D; &quot;/kaart&quot;) {
			void this.router.navigateByUrl(&quot;/kaart&quot;);
		}
		if (this.trainMap &amp;&amp; train) {
			this.closePopups();
			this._activeMapType.next(this.mapTypes[0]);
			this.trainMap.flyTo({
				center: [train.lng, train.lat],
				zoom: 15,
				speed: 1.0,
			});
			this.trainMap.once(&quot;moveend&quot;, () &#x3D;&gt; {
				const features &#x3D; this.trainMap.queryRenderedFeatures(null, { layers: [&quot;trains&quot;] });
				if (features.length &gt; 0) {
					const selectedFeature: MapboxGeoJSONFeature &#x3D; features.find(
						(f) &#x3D;&gt; f.properties[&quot;ritId&quot;] &#x3D;&#x3D; train.ritId
					);
					if (selectedFeature) {
						selectedFeature.properties &#x3D; train;
						this.selectedTrainOnMapFeature &#x3D; selectedFeature;
					}
				}
			});
		}
	}

	/**
	 * Find train information by ride id
	 * @param rideId Ride id of the train
	 * @return DetailedTrainInformation Train information or undefined
	 */
	findTrainByRideId(rideId: string): DetailedTrainInformation | undefined {
		return this.trainInformationLastValue().find((t) &#x3D;&gt; t.ritId &#x3D;&#x3D; rideId);
	}

	findStationByUICCode(UICCode: string): Station | undefined {
		return this.stationsLastValue().payload.find((s) &#x3D;&gt; s.UICCode &#x3D;&#x3D; UICCode);
	}

	findStationByCode(code: string): Station | undefined {
		return this.stationsLastValue().payload.find((s) &#x3D;&gt; s.code &#x3D;&#x3D; code);
	}

	/**
	 * Close all popups on the map
	 */
	closePopups(): void {
		this.selectedTrainOnMapFeature &#x3D; null;
		this.selectedStationOnMapFeature &#x3D; null;
	}

	/**
	 * Open/close navbar on smaller screens
	 */
	toggleNavbar(): void {
		if (this.screenWidth &lt;&#x3D; 767) {
			this.navbarCollapsed &#x3D; !this.navbarCollapsed;
		} else {
			this.navbarCollapsed &#x3D; true;
		}
		this._navbarCollapsed$.next(this.navbarCollapsed);
	}

	/**
	 * Open or close the sidebar
	 */
	toggleSidebar(): void {
		let state: &quot;open&quot; | &quot;closed&quot;;
		this._sidebarState.pipe(take(1)).subscribe((s) &#x3D;&gt; (state &#x3D; s));
		this._sidebarState.next(state &#x3D;&#x3D;&#x3D; &quot;closed&quot; ? &quot;open&quot; : &quot;closed&quot;);
	}
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'SharedDataService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
