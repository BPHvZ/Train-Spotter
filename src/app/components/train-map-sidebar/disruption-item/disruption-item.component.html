<!--
  ~ trainSpotter
  ~ Copyright (C) 2021 bart
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div *ngIf="disruption" class="mat-typography">
	<div (click)="flyToDisruption(disruption)" class="card-header headingS" style="cursor: pointer">
		<div *ngIf="disruption.type === 'MAINTENANCE'; else disruptionIcon" style="display: inline">
			<img
				alt="Werk aan het spoor"
				src="../../../../assets/maintenance--blue--35x35.svg"
				style="position: inherit; height: 30px; display: inline"
			/>
		</div>
		<ng-template #disruptionIcon>
			<img
				alt="Storing"
				src="../../../../assets/alert--red--35x35.svg"
				style="position: inherit; height: 30px; display: inline"
		/></ng-template>
		{{ disruption.title }}
	</div>
	<div class="card-body">
		<div *ngIf="disruption.type === 'MAINTENANCE'; else disruptionDescription">
			<h5 class="card-title">{{ disruption.period }}</h5>
			<p class="card-text">{{ disruption.timespans[0].situation.label }}</p>
			<p class="card-text" *ngIf="disruption.timespans[0].additionalTravelTime">
				{{ disruption.timespans[0].additionalTravelTime?.label }}
			</p>
		</div>
		<ng-template #disruptionDescription>
			<h5 class="card-title">{{ disruption.expectedDuration.description }}</h5>
			<p class="card-text">{{ disruption.timespans[0].situation.label }}</p>
		</ng-template>
	</div>
</div>
